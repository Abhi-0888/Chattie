{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/utils/dummy-users.ts"],"sourcesContent":["/**\n * Chattie - Dummy Users Data\n *\n * This file contains mock user data for development and testing.\n * In production, this would be replaced with actual API calls.\n */\n\nexport interface User {\n  id: string\n  name: string\n  email: string\n  avatar: string\n  status: \"online\" | \"offline\" | \"away\"\n  lastSeen?: string\n}\n\nexport const dummyUsers: User[] = [\n  // Start with an empty seed so only users created at runtime are shown\n]\n\nexport const DEFAULT_AVATAR = \"/default-avatar.png\"\n\nconst REGISTERED_USERS_KEY = \"quickchat_registered_users\"\n\n/**\n * Get all registered users from localStorage\n */\nexport const getRegisteredUsers = (): User[] => {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(REGISTERED_USERS_KEY)\n    const parsed: User[] = stored ? JSON.parse(stored) : []\n    // Normalize avatars: enforce default avatar for all registered users\n    return parsed.map((u) => ({ ...u, avatar: DEFAULT_AVATAR }))\n  } catch {\n    return []\n  }\n}\n\n/**\n * Save a new registered user to localStorage\n */\nexport const saveRegisteredUser = (user: User): void => {\n  if (typeof window === \"undefined\") return\n  const registered = getRegisteredUsers()\n  // Check if user already exists\n  if (!registered.find((u) => u.id === user.id || u.email === user.email)) {\n    // Always save with default avatar to ensure consistency\n    const userToSave: User = { ...user, avatar: DEFAULT_AVATAR }\n    registered.push(userToSave)\n    localStorage.setItem(REGISTERED_USERS_KEY, JSON.stringify(registered))\n  }\n}\n\n/**\n * Get ALL users (dummy + registered)\n */\nexport const getAllUsers = (): User[] => {\n  // Only return registered users. The app will display only users created at runtime.\n  // Enforce default avatar for all returned users\n  return getRegisteredUsers().map((u) => ({ ...u, avatar: DEFAULT_AVATAR }))\n}\n\n/**\n * Get user by ID (checks both dummy and registered)\n */\nexport const getUserById = (id: string): User | undefined => {\n  return getAllUsers().find((user) => user.id === id)\n}\n\n/**\n * Get users by IDs\n */\nexport const getUsersByIds = (ids: string[]): User[] => {\n  return getAllUsers().filter((user) => ids.includes(user.id))\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;;;;;AAWM,MAAM,aAAqB,EAEjC;AAEM,MAAM,iBAAiB;AAE9B,MAAM,uBAAuB;AAKtB,MAAM,qBAAqB;IAChC,wCAAmC,OAAO,EAAE;;;AAS9C;AAKO,MAAM,qBAAqB,CAAC;IACjC,wCAAmC;;;IACnC,MAAM;AAQR;AAKO,MAAM,cAAc;IACzB,oFAAoF;IACpF,gDAAgD;IAChD,OAAO,qBAAqB,GAAG,CAAC,CAAC,IAAM,CAAC;YAAE,GAAG,CAAC;YAAE,QAAQ;QAAe,CAAC;AAC1E;AAKO,MAAM,cAAc,CAAC;IAC1B,OAAO,cAAc,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;AAClD;AAKO,MAAM,gBAAgB,CAAC;IAC5B,OAAO,cAAc,MAAM,CAAC,CAAC,OAAS,IAAI,QAAQ,CAAC,KAAK,EAAE;AAC5D"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/context/auth-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Authentication Context\n *\n * Manages user authentication state throughout the application.\n * Uses dummy authentication for development - easily replaceable with real auth.\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useCallback, useEffect } from \"react\"\nimport { getAllUsers, saveRegisteredUser, type User, DEFAULT_AVATAR } from \"@/utils/dummy-users\"\n\ninterface AuthContextType {\n  user: User | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  login: (email: string, password: string) => Promise<boolean>\n  register: (name: string, email: string, password: string) => Promise<boolean>\n  logout: () => void\n  error: string | null\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Try to restore user session from localStorage on mount\n  useEffect(() => {\n    setIsLoading(true)\n    try {\n      const stored = typeof window !== \"undefined\" ? localStorage.getItem(\"quickchat_user\") : null\n      if (stored) {\n        const parsed = JSON.parse(stored) as User\n        // Ensure avatar uses default if missing\n        const restored: User = { ...parsed, avatar: parsed.avatar || DEFAULT_AVATAR, status: \"online\" }\n        setUser(restored)\n      }\n    } catch (e) {\n      console.error(\"[Auth] Failed to restore user from localStorage:\", e)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  /**\n   * Login function - authenticates user with email/password\n   * In production, this would call a real authentication API\n   */\n  const login = useCallback(async (email: string, password: string): Promise<boolean> => {\n    setIsLoading(true)\n    setError(null)\n\n    // Simulate API delay\n    await new Promise((resolve) => setTimeout(resolve, 800))\n\n    const allUsers = getAllUsers()\n    const foundUser = allUsers.find((u) => u.email.toLowerCase() === email.toLowerCase())\n\n    if (foundUser && password.length >= 6) {\n      const loggedInUser = { ...foundUser, status: \"online\" as const }\n      setUser(loggedInUser)\n      localStorage.setItem(\"quickchat_user\", JSON.stringify(loggedInUser))\n      setIsLoading(false)\n      return true\n    }\n\n    setError(\"Invalid email or password\")\n    setIsLoading(false)\n    return false\n  }, [])\n\n  /**\n   * Register function - creates new user account\n   * In production, this would call a real registration API\n   */\n  const register = useCallback(async (name: string, email: string, password: string): Promise<boolean> => {\n    setIsLoading(true)\n    setError(null)\n\n    // Simulate API delay\n    await new Promise((resolve) => setTimeout(resolve, 800))\n\n    const allUsers = getAllUsers()\n    const existingUser = allUsers.find((u) => u.email.toLowerCase() === email.toLowerCase())\n\n    if (existingUser) {\n      setError(\"Email already registered\")\n      setIsLoading(false)\n      return false\n    }\n\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters\")\n      setIsLoading(false)\n      return false\n    }\n\n    // Create new user (use default avatar)\n    const newUser: User = {\n      id: `user-${Date.now()}`,\n      name,\n      email,\n      avatar: DEFAULT_AVATAR,\n      status: \"online\",\n    }\n\n    saveRegisteredUser(newUser)\n\n    setUser(newUser)\n    localStorage.setItem(\"quickchat_user\", JSON.stringify(newUser))\n    setIsLoading(false)\n    return true\n  }, [])\n\n  /**\n   * Logout function - clears user session\n   */\n  const logout = useCallback(() => {\n    setUser(null)\n    localStorage.removeItem(\"quickchat_user\")\n  }, [])\n\n  const value: AuthContextType = {\n    user,\n    isAuthenticated: !!user,\n    isLoading,\n    login,\n    register,\n    logout,\n    error,\n  }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\n/**\n * Custom hook to access auth context\n */\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAUA;AACA;AAXA;;;;AAuBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,yDAAyD;IACzD,IAAA,kNAAS,EAAC;QACR,aAAa;QACb,IAAI;YACF,MAAM,SAAS,sCAAgC,0BAAyC;YACxF;;QAMF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,oDAAoD;QACpE,SAAU;YACR,aAAa;QACf;IACF,GAAG,EAAE;IAEL;;;GAGC,GACD,MAAM,QAAQ,IAAA,oNAAW,EAAC,OAAO,OAAe;QAC9C,aAAa;QACb,SAAS;QAET,qBAAqB;QACrB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,MAAM,WAAW,IAAA,sIAAW;QAC5B,MAAM,YAAY,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC,WAAW,OAAO,MAAM,WAAW;QAElF,IAAI,aAAa,SAAS,MAAM,IAAI,GAAG;YACrC,MAAM,eAAe;gBAAE,GAAG,SAAS;gBAAE,QAAQ;YAAkB;YAC/D,QAAQ;YACR,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;YACtD,aAAa;YACb,OAAO;QACT;QAEA,SAAS;QACT,aAAa;QACb,OAAO;IACT,GAAG,EAAE;IAEL;;;GAGC,GACD,MAAM,WAAW,IAAA,oNAAW,EAAC,OAAO,MAAc,OAAe;QAC/D,aAAa;QACb,SAAS;QAET,qBAAqB;QACrB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,MAAM,WAAW,IAAA,sIAAW;QAC5B,MAAM,eAAe,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC,WAAW,OAAO,MAAM,WAAW;QAErF,IAAI,cAAc;YAChB,SAAS;YACT,aAAa;YACb,OAAO;QACT;QAEA,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,SAAS;YACT,aAAa;YACb,OAAO;QACT;QAEA,uCAAuC;QACvC,MAAM,UAAgB;YACpB,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB;YACA;YACA,QAAQ,yIAAc;YACtB,QAAQ;QACV;QAEA,IAAA,6IAAkB,EAAC;QAEnB,QAAQ;QACR,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;QACtD,aAAa;QACb,OAAO;IACT,GAAG,EAAE;IAEL;;GAEC,GACD,MAAM,SAAS,IAAA,oNAAW,EAAC;QACzB,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B,GAAG,EAAE;IAEL,MAAM,QAAyB;QAC7B;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAKO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/context/chat-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Chat Context\n *\n * Manages all chat-related state including messages, active chats,\n * and chat operations. Structured for easy backend integration.\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useCallback, useMemo, useEffect } from \"react\"\nimport { dummyChats, dummyMessages, type Chat, type Message } from \"@/utils/dummy-chats\"\nimport { getAllUsers, type User, DEFAULT_AVATAR } from \"@/utils/dummy-users\"\nimport { useAuth } from \"./auth-context\"\n\nconst STORAGE_KEYS = {\n  CHATS: \"quickchat_chats\",\n  MESSAGES: \"quickchat_messages\",\n  MIGRATION_V2: \"quickchat_migrated_v2\", // Flag to track migration\n}\n\nfunction getStoredChats(): Chat[] {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(STORAGE_KEYS.CHATS)\n    if (stored) {\n      const parsed = JSON.parse(stored)\n      return parsed.map((chat: Chat) => ({\n        ...chat,\n        createdAt: new Date(chat.createdAt),\n        lastMessage: chat.lastMessage\n          ? { ...chat.lastMessage, timestamp: new Date(chat.lastMessage.timestamp) }\n          : undefined,\n      }))\n    }\n  } catch (e) {\n    console.error(\"[Chat Context] Error reading chats from localStorage:\", e)\n  }\n  return []\n}\n\nfunction getStoredMessages(): Message[] {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(STORAGE_KEYS.MESSAGES)\n    if (stored) {\n      const parsed = JSON.parse(stored)\n      return parsed.map((msg: Message) => ({\n        ...msg,\n        timestamp: new Date(msg.timestamp),\n      }))\n    }\n  } catch (e) {\n    console.error(\"[Chat Context] Error reading messages from localStorage:\", e)\n  }\n  return []\n}\n\nfunction saveChatsToStorage(chats: Chat[]) {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(STORAGE_KEYS.CHATS, JSON.stringify(chats))\n  } catch (e) {\n    console.error(\"[Chat Context] Error saving chats to localStorage:\", e)\n  }\n}\n\nfunction saveMessagesToStorage(messages: Message[]) {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(STORAGE_KEYS.MESSAGES, JSON.stringify(messages))\n  } catch (e) {\n    console.error(\"[Chat Context] Error saving messages to localStorage:\", e)\n  }\n}\n\n/**\n * Remove duplicate chats. For group chats, dedupe by group name so\n * there is only one group with the same name. For other chats, keep\n * the first occurrence.\n */\nfunction dedupeChats(chats: Chat[]): Chat[] {\n  const seen = new Set<string>()\n  const out: Chat[] = []\n\n  for (const c of chats) {\n    const key = c.type === \"group\" && c.name ? `group:${c.name}` : `chat:${c.id}`\n    if (!seen.has(key)) {\n      seen.add(key)\n      out.push(c)\n    }\n  }\n\n  return out\n}\n\ninterface ChatContextType {\n  // State\n  chats: Chat[]\n  messages: Message[]\n  selectedChat: Chat | null\n  typingUsers: { [chatId: string]: string[] }\n\n  // Actions\n  selectChat: (chatId: string) => void\n  sendMessage: (content: string, options?: { isVoiceMessage?: boolean; voiceDuration?: number }) => void\n  createGroupChat: (name: string, participantIds: string[]) => void\n  createDirectChat: (userId: string) => void\n  removeUserFromChat: (chatId: string, userId: string) => void\n  deleteChat: (chatId: string) => void\n  editChat: (chatId: string, updates: Partial<Pick<Chat, \"name\" | \"avatar\" | \"participants\">>) => void\n  markAsRead: (chatId: string) => void\n  setTyping: (chatId: string, isTyping: boolean) => void\n\n  // New enhanced actions\n  addReaction: (messageId: string, emoji: string) => void\n  removeReaction: (messageId: string, emoji: string) => void\n  togglePin: (messageId: string) => void\n  getPinnedMessages: (chatId: string) => Message[]\n  searchMessages: (query: string) => Message[]\n  editMessage: (messageId: string, newContent: string) => void\n  deleteMessage: (messageId: string) => void\n  forwardMessage: (messageId: string, targetChatId: string) => void\n\n  // Helpers\n  getChatName: (chat: Chat) => string\n  getChatAvatar: (chat: Chat) => string\n  getOtherParticipant: (chat: Chat) => User | undefined\n  availableUsers: User[]\n}\n\nconst ChatContext = createContext<ChatContextType | undefined>(undefined)\n\nexport function ChatProvider({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth()\n\n  const [chats, setChats] = useState<Chat[]>([])\n  const [messages, setMessages] = useState<Message[]>([])\n  const [selectedChat, setSelectedChat] = useState<Chat | null>(null)\n  const [typingUsers, setTypingUsers] = useState<{ [chatId: string]: string[] }>({})\n  const [allUsers, setAllUsers] = useState<User[]>([])\n  const [isInitialized, setIsInitialized] = useState(false)\n\n  useEffect(() => {\n    // Migration: Clear old persisted chats on first load (v2)\n    if (typeof window !== \"undefined\" && !localStorage.getItem(STORAGE_KEYS.MIGRATION_V2)) {\n      localStorage.removeItem(STORAGE_KEYS.CHATS)\n      localStorage.removeItem(STORAGE_KEYS.MESSAGES)\n      localStorage.setItem(STORAGE_KEYS.MIGRATION_V2, \"true\")\n      console.log(\"[Chat Context] Cleared old persisted chats (migration v2)\")\n    }\n\n    const storedChats = getStoredChats()\n    const storedMessages = getStoredMessages()\n\n    // Start with only user-created chats (no seed data)\n    const cleaned = dedupeChats(storedChats)\n    setChats(cleaned)\n    if (cleaned.length !== storedChats.length) saveChatsToStorage(cleaned)\n\n    setMessages(storedMessages)\n\n    setIsInitialized(true)\n  }, [])\n\n  useEffect(() => {\n    if (!user || !isInitialized) return\n\n    const refreshData = () => {\n      const storedChats = getStoredChats()\n      const storedMessages = getStoredMessages()\n\n      if (storedChats.length > 0) {\n        const cleaned = dedupeChats(storedChats)\n        setChats(cleaned)\n        if (cleaned.length !== storedChats.length) saveChatsToStorage(cleaned)\n      }\n      if (storedMessages.length > 0) {\n        setMessages(storedMessages)\n      }\n    }\n\n    // Refresh immediately\n    refreshData()\n\n    const interval = setInterval(refreshData, 2000)\n\n    return () => clearInterval(interval)\n  }, [user, isInitialized])\n\n  useEffect(() => {\n    // Initial load\n    setAllUsers(getAllUsers())\n\n    // Poll for new users every 2 seconds\n    const interval = setInterval(() => {\n      setAllUsers(getAllUsers())\n    }, 2000)\n\n    return () => clearInterval(interval)\n  }, [user])\n\n  useEffect(() => {\n    setAllUsers(getAllUsers())\n  }, [user])\n\n  /**\n   * Select a chat and load its messages\n   */\n  const selectChat = useCallback(\n    (chatId: string) => {\n      const chat = chats.find((c) => c.id === chatId)\n      if (chat) {\n        setSelectedChat(chat)\n        // Mark messages as read\n        setChats((prev) => {\n          const updated = prev.map((c) => (c.id === chatId ? { ...c, unreadCount: 0 } : c))\n          saveChatsToStorage(updated)\n          return updated\n        })\n      }\n    },\n    [chats],\n  )\n\n  /**\n   * Send a new message in the selected chat\n   */\n  const sendMessage = useCallback(\n    (content: string, options?: { isVoiceMessage?: boolean; voiceDuration?: number }) => {\n      if (!selectedChat || !user || (!content.trim() && !options?.isVoiceMessage)) return\n\n      const newMessage: Message = {\n        id: `msg-${Date.now()}-${user.id}`,\n        chatId: selectedChat.id,\n        senderId: user.id,\n        content: content.trim(),\n        timestamp: new Date(),\n        status: \"sent\",\n        isVoiceMessage: options?.isVoiceMessage,\n        voiceDuration: options?.voiceDuration,\n      }\n\n      setMessages((prev) => {\n        const updated = [...prev, newMessage]\n        saveMessagesToStorage(updated)\n        return updated\n      })\n\n      setChats((prev) => {\n        const updated = prev.map((chat) => {\n          if (chat.id === selectedChat.id) {\n            return {\n              ...chat,\n              lastMessage: newMessage,\n              // Increment unread count for the recipient\n              unreadCount: 0,\n            }\n          }\n          return chat\n        })\n        saveChatsToStorage(updated)\n        return updated\n      })\n\n      // Simulate message delivery status update\n      setTimeout(() => {\n        setMessages((prev) => {\n          const updated = prev.map((msg) => (msg.id === newMessage.id ? { ...msg, status: \"delivered\" } : msg))\n          saveMessagesToStorage(updated)\n          return updated\n        })\n      }, 1000)\n\n      // Simulate read status\n      setTimeout(() => {\n        setMessages((prev) => {\n          const updated = prev.map((msg) => (msg.id === newMessage.id ? { ...msg, status: \"read\" } : msg))\n          saveMessagesToStorage(updated)\n          return updated\n        })\n      }, 2000)\n    },\n    [selectedChat, user],\n  )\n\n  /**\n   * Add a reaction to a message\n   */\n  const addReaction = useCallback(\n    (messageId: string, emoji: string) => {\n      if (!user) return\n      setMessages((prev) => {\n        const updated = prev.map((msg) => {\n          if (msg.id === messageId) {\n            const reactions = msg.reactions || []\n            const reactionIndex = reactions.findIndex((r) => r.emoji === emoji)\n\n            if (reactionIndex > -1) {\n              const reaction = reactions[reactionIndex]\n              if (!reaction.userIds.includes(user.id)) {\n                const updatedReactions = [...reactions]\n                updatedReactions[reactionIndex] = {\n                  ...reaction,\n                  userIds: [...reaction.userIds, user.id],\n                }\n                return { ...msg, reactions: updatedReactions }\n              }\n            } else {\n              return {\n                ...msg,\n                reactions: [...reactions, { emoji, userIds: [user.id] }],\n              }\n            }\n          }\n          return msg\n        })\n        saveMessagesToStorage(updated)\n        return updated\n      })\n    },\n    [user],\n  )\n\n  /**\n   * Remove a reaction from a message\n   */\n  const removeReaction = useCallback(\n    (messageId: string, emoji: string) => {\n      if (!user) return\n      setMessages((prev) => {\n        const updated = prev.map((msg) => {\n          if (msg.id === messageId && msg.reactions) {\n            const updatedReactions = msg.reactions\n              .map((r) => {\n                if (r.emoji === emoji) {\n                  return { ...r, userIds: r.userIds.filter((id) => id !== user.id) }\n                }\n                return r\n              })\n              .filter((r) => r.userIds.length > 0)\n            return { ...msg, reactions: updatedReactions }\n          }\n          return msg\n        })\n        saveMessagesToStorage(updated)\n        return updated\n      })\n    },\n    [user],\n  )\n\n  /**\n   * Toggle pin status of a message\n   */\n  const togglePin = useCallback((messageId: string) => {\n    setMessages((prev) => {\n      const updated = prev.map((msg) => (msg.id === messageId ? { ...msg, isPinned: !msg.isPinned } : msg))\n      saveMessagesToStorage(updated)\n      return updated\n    })\n  }, [])\n\n  /**\n   * Get all pinned messages for a chat\n   */\n  const getPinnedMessages = useCallback(\n    (chatId: string) => {\n      return messages.filter((msg) => msg.chatId === chatId && msg.isPinned)\n    },\n    [messages],\n  )\n\n  /**\n   * Search messages across all chats\n   */\n  const searchMessages = useCallback(\n    (query: string) => {\n      if (!query.trim()) return []\n      return messages.filter((msg) => msg.content.toLowerCase().includes(query.toLowerCase()))\n    },\n    [messages],\n  )\n\n  /**\n   * Edit a message's content\n   */\n  const editMessage = useCallback((messageId: string, newContent: string) => {\n    setMessages((prev) => {\n      const updated = prev.map((msg) =>\n        msg.id === messageId ? { ...msg, content: newContent, editedAt: new Date() } : msg,\n      )\n      saveMessagesToStorage(updated)\n      return updated\n    })\n  }, [])\n\n  /**\n   * Delete a single message\n   */\n  const deleteMessage = useCallback((messageId: string) => {\n    setMessages((prev) => {\n      const updated = prev.filter((msg) => msg.id !== messageId)\n      saveMessagesToStorage(updated)\n      return updated\n    })\n  }, [])\n\n  /**\n   * Forward a message to another chat\n   */\n  const forwardMessage = useCallback(\n    (messageId: string, targetChatId: string) => {\n      const messageToForward = messages.find((m) => m.id === messageId)\n      if (!messageToForward || !user) return\n\n      const newMessage: Message = {\n        ...messageToForward,\n        id: `msg-fwd-${Date.now()}-${user.id}`,\n        chatId: targetChatId,\n        senderId: user.id,\n        timestamp: new Date(),\n        status: \"sent\",\n        forwarded: true,\n      }\n\n      setMessages((prev) => {\n        const updated = [...prev, newMessage]\n        saveMessagesToStorage(updated)\n        return updated\n      })\n\n      // Update the target chat's last message\n      setChats((prev) => {\n        const updated = prev.map((chat) =>\n          chat.id === targetChatId ? { ...chat, lastMessage: newMessage } : chat,\n        )\n        saveChatsToStorage(updated)\n        return updated\n      })\n    },\n    [messages, user],\n  )\n\n  /**\n   * Create a new group chat\n   */\n  const createGroupChat = useCallback(\n    (name: string, participantIds: string[]) => {\n      if (!user) return\n\n      const newChat: Chat = {\n        id: `chat-${Date.now()}`,\n        type: \"group\",\n        name,\n        avatar: DEFAULT_AVATAR,\n        participants: [user.id, ...participantIds],\n        unreadCount: 0,\n        createdAt: new Date(),\n      }\n\n      setChats((prev) => {\n        const updated = [newChat, ...prev]\n        saveChatsToStorage(updated)\n        return updated\n      })\n      setSelectedChat(newChat)\n    },\n    [user],\n  )\n\n  /**\n   * Create or open a direct chat with a user\n   */\n  const createDirectChat = useCallback(\n    (userId: string) => {\n      if (!user) return\n\n      const latestChats = getStoredChats()\n      const existingChat = latestChats.find(\n        (chat) => chat.type === \"direct\" && chat.participants.includes(user.id) && chat.participants.includes(userId),\n      )\n\n      if (existingChat) {\n        setChats(latestChats)\n        setSelectedChat(existingChat)\n        return\n      }\n\n      const newChat: Chat = {\n        id: `chat-${Date.now()}-${user.id}-${userId}`,\n        type: \"direct\",\n        participants: [user.id, userId],\n        unreadCount: 0,\n        createdAt: new Date(),\n      }\n\n      const updatedChats = [newChat, ...latestChats]\n      saveChatsToStorage(updatedChats)\n      setChats(updatedChats)\n      setSelectedChat(newChat)\n    },\n    [user],\n  )\n\n  /**\n   * Mark all messages in a chat as read\n   */\n  const markAsRead = useCallback((chatId: string) => {\n    setChats((prev) => {\n      const updated = prev.map((chat) => (chat.id === chatId ? { ...chat, unreadCount: 0 } : chat))\n      saveChatsToStorage(updated)\n      return updated\n    })\n  }, [])\n\n  /**\n   * Remove a user from a chat. If after removal the chat has fewer than\n   * 2 participants, the chat will be deleted.\n   */\n  const removeUserFromChat = useCallback(\n    (chatId: string, userId: string) => {\n      setChats((prev) => {\n        const updated: Chat[] = []\n        for (const c of prev) {\n          if (c.id === chatId) {\n            const participants = c.participants.filter((p) => p !== userId)\n            if (participants.length < 2) {\n              // skip adding -> effectively delete the chat\n              continue\n            }\n            updated.push({ ...c, participants })\n          } else {\n            updated.push(c)\n          }\n        }\n        saveChatsToStorage(updated)\n\n        // If the selected chat was modified/removed, update selectedChat\n        if (selectedChat?.id === chatId) {\n          const found = updated.find((ch) => ch.id === chatId)\n          if (found) setSelectedChat(found)\n          else setSelectedChat(null)\n        }\n\n        return updated\n      })\n    },\n    [selectedChat],\n  )\n\n  /** Delete a chat and its messages */\n  const deleteChat = useCallback(\n    (chatId: string) => {\n      setChats((prev) => {\n        const updated = prev.filter((c) => c.id !== chatId)\n        saveChatsToStorage(updated)\n        return updated\n      })\n\n      setMessages((prev) => {\n        const updated = prev.filter((m) => m.chatId !== chatId)\n        saveMessagesToStorage(updated)\n        return updated\n      })\n\n      if (selectedChat?.id === chatId) {\n        setSelectedChat(null)\n      }\n    },\n    [selectedChat],\n  )\n\n  /** Edit chat metadata (name, avatar, participants) */\n  const editChat = useCallback(\n    (chatId: string, updates: Partial<Pick<Chat, \"name\" | \"avatar\" | \"participants\">>) => {\n      setChats((prev) => {\n        const updated = prev.map((c) => (c.id === chatId ? { ...c, ...updates } : c))\n        saveChatsToStorage(updated)\n        return updated\n      })\n\n      if (selectedChat?.id === chatId) {\n        const latest = getStoredChats().find((c) => c.id === chatId) || null\n        setSelectedChat(latest)\n      }\n    },\n    [selectedChat],\n  )\n\n  /**\n   * Set typing indicator for current user in a chat\n   */\n  const setTyping = useCallback(\n    (chatId: string, isTyping: boolean) => {\n      if (!user) return\n\n      setTypingUsers((prev) => {\n        const currentTyping = prev[chatId] || []\n        if (isTyping && !currentTyping.includes(user.id)) {\n          return { ...prev, [chatId]: [...currentTyping, user.id] }\n        } else if (!isTyping) {\n          return { ...prev, [chatId]: currentTyping.filter((id) => id !== user.id) }\n        }\n        return prev\n      })\n    },\n    [user],\n  )\n\n  /**\n   * Get display name for a chat\n   */\n  const getChatName = useCallback(\n    (chat: Chat): string => {\n      if (chat.type === \"group\") {\n        return chat.name || \"Group Chat\"\n      }\n\n      const otherUserId = chat.participants.find((id) => id !== user?.id)\n      const otherUser = allUsers.find((u) => u.id === otherUserId)\n      return otherUser?.name || \"Unknown User\"\n    },\n    [user, allUsers],\n  )\n\n  /**\n   * Get avatar for a chat\n   */\n  const getChatAvatar = useCallback(\n    (chat: Chat): string => {\n      if (chat.type === \"group\" && chat.avatar) {\n        return chat.avatar\n      }\n\n      const otherUserId = chat.participants.find((id) => id !== user?.id)\n      const otherUser = allUsers.find((u) => u.id === otherUserId)\n      return otherUser?.avatar || \"/default-avatar.png\"\n    },\n    [user, allUsers],\n  )\n\n  /**\n   * Get the other participant in a direct chat\n   */\n  const getOtherParticipant = useCallback(\n    (chat: Chat): User | undefined => {\n      if (chat.type !== \"direct\") return undefined\n      const otherUserId = chat.participants.find((id) => id !== user?.id)\n      return allUsers.find((u) => u.id === otherUserId)\n    },\n    [user, allUsers],\n  )\n\n  /**\n   * Get users available for new chats (excludes current user)\n   * Now includes registered users from localStorage\n   */\n  const availableUsers = useMemo(() => {\n    if (!user) return []\n    return allUsers.filter((u) => u.id !== user.id)\n  }, [user, allUsers])\n\n  const value: ChatContextType = {\n    chats,\n    messages,\n    selectedChat,\n    typingUsers,\n    selectChat,\n    sendMessage,\n    createGroupChat,\n    createDirectChat,\n    removeUserFromChat,\n    deleteChat,\n    editChat,\n    markAsRead,\n    setTyping,\n    addReaction,\n    removeReaction,\n    togglePin,\n    getPinnedMessages,\n    searchMessages,\n    editMessage,\n    deleteMessage,\n    forwardMessage,\n    getChatName,\n    getChatAvatar,\n    getOtherParticipant,\n    availableUsers,\n  }\n\n  return <ChatContext.Provider value={value}>{children}</ChatContext.Provider>\n}\n\n/**\n * Custom hook to access chat context\n */\nexport function useChat() {\n  const context = useContext(ChatContext)\n  if (context === undefined) {\n    throw new Error(\"useChat must be used within a ChatProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAUA;AAEA;AACA;AAbA;;;;;AAeA,MAAM,eAAe;IACnB,OAAO;IACP,UAAU;IACV,cAAc;AAChB;AAEA,SAAS;IACP,wCAAmC,OAAO,EAAE;;;AAiB9C;AAEA,SAAS;IACP,wCAAmC,OAAO,EAAE;;;AAc9C;AAEA,SAAS,mBAAmB,KAAa;IACvC,wCAAmC;;;AAMrC;AAEA,SAAS,sBAAsB,QAAmB;IAChD,wCAAmC;;;AAMrC;AAEA;;;;CAIC,GACD,SAAS,YAAY,KAAa;IAChC,MAAM,OAAO,IAAI;IACjB,MAAM,MAAc,EAAE;IAEtB,KAAK,MAAM,KAAK,MAAO;QACrB,MAAM,MAAM,EAAE,IAAI,KAAK,WAAW,EAAE,IAAI,GAAG,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE;QAC7E,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM;YAClB,KAAK,GAAG,CAAC;YACT,IAAI,IAAI,CAAC;QACX;IACF;IAEA,OAAO;AACT;AAqCA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,sIAAO;IAExB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAc;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAiC,CAAC;IAChF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAS,EAAE;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,IAAA,kNAAS,EAAC;QACR,0DAA0D;QAC1D,IAAI,kDAAkB,eAAe,CAAC,aAAa,OAAO,CAAC,aAAa,YAAY;;QAOpF,MAAM,cAAc;QACpB,MAAM,iBAAiB;QAEvB,oDAAoD;QACpD,MAAM,UAAU,YAAY;QAC5B,SAAS;QACT,IAAI,QAAQ,MAAM,KAAK,YAAY,MAAM,EAAE,mBAAmB;QAE9D,YAAY;QAEZ,iBAAiB;IACnB,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,QAAQ,CAAC,eAAe;QAE7B,MAAM,cAAc;YAClB,MAAM,cAAc;YACpB,MAAM,iBAAiB;YAEvB,IAAI,YAAY,MAAM,GAAG,GAAG;gBAC1B,MAAM,UAAU,YAAY;gBAC5B,SAAS;gBACT,IAAI,QAAQ,MAAM,KAAK,YAAY,MAAM,EAAE,mBAAmB;YAChE;YACA,IAAI,eAAe,MAAM,GAAG,GAAG;gBAC7B,YAAY;YACd;QACF;QAEA,sBAAsB;QACtB;QAEA,MAAM,WAAW,YAAY,aAAa;QAE1C,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAM;KAAc;IAExB,IAAA,kNAAS,EAAC;QACR,eAAe;QACf,YAAY,IAAA,sIAAW;QAEvB,qCAAqC;QACrC,MAAM,WAAW,YAAY;YAC3B,YAAY,IAAA,sIAAW;QACzB,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAK;IAET,IAAA,kNAAS,EAAC;QACR,YAAY,IAAA,sIAAW;IACzB,GAAG;QAAC;KAAK;IAET;;GAEC,GACD,MAAM,aAAa,IAAA,oNAAW,EAC5B,CAAC;QACC,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACxC,IAAI,MAAM;YACR,gBAAgB;YAChB,wBAAwB;YACxB,SAAS,CAAC;gBACR,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,SAAS;wBAAE,GAAG,CAAC;wBAAE,aAAa;oBAAE,IAAI;gBAC9E,mBAAmB;gBACnB,OAAO;YACT;QACF;IACF,GACA;QAAC;KAAM;IAGT;;GAEC,GACD,MAAM,cAAc,IAAA,oNAAW,EAC7B,CAAC,SAAiB;QAChB,IAAI,CAAC,gBAAgB,CAAC,QAAS,CAAC,QAAQ,IAAI,MAAM,CAAC,SAAS,gBAAiB;QAE7E,MAAM,aAAsB;YAC1B,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE;YAClC,QAAQ,aAAa,EAAE;YACvB,UAAU,KAAK,EAAE;YACjB,SAAS,QAAQ,IAAI;YACrB,WAAW,IAAI;YACf,QAAQ;YACR,gBAAgB,SAAS;YACzB,eAAe,SAAS;QAC1B;QAEA,YAAY,CAAC;YACX,MAAM,UAAU;mBAAI;gBAAM;aAAW;YACrC,sBAAsB;YACtB,OAAO;QACT;QAEA,SAAS,CAAC;YACR,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC;gBACxB,IAAI,KAAK,EAAE,KAAK,aAAa,EAAE,EAAE;oBAC/B,OAAO;wBACL,GAAG,IAAI;wBACP,aAAa;wBACb,2CAA2C;wBAC3C,aAAa;oBACf;gBACF;gBACA,OAAO;YACT;YACA,mBAAmB;YACnB,OAAO;QACT;QAEA,0CAA0C;QAC1C,WAAW;YACT,YAAY,CAAC;gBACX,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,MAAS,IAAI,EAAE,KAAK,WAAW,EAAE,GAAG;wBAAE,GAAG,GAAG;wBAAE,QAAQ;oBAAY,IAAI;gBAChG,sBAAsB;gBACtB,OAAO;YACT;QACF,GAAG;QAEH,uBAAuB;QACvB,WAAW;YACT,YAAY,CAAC;gBACX,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,MAAS,IAAI,EAAE,KAAK,WAAW,EAAE,GAAG;wBAAE,GAAG,GAAG;wBAAE,QAAQ;oBAAO,IAAI;gBAC3F,sBAAsB;gBACtB,OAAO;YACT;QACF,GAAG;IACL,GACA;QAAC;QAAc;KAAK;IAGtB;;GAEC,GACD,MAAM,cAAc,IAAA,oNAAW,EAC7B,CAAC,WAAmB;QAClB,IAAI,CAAC,MAAM;QACX,YAAY,CAAC;YACX,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC;gBACxB,IAAI,IAAI,EAAE,KAAK,WAAW;oBACxB,MAAM,YAAY,IAAI,SAAS,IAAI,EAAE;oBACrC,MAAM,gBAAgB,UAAU,SAAS,CAAC,CAAC,IAAM,EAAE,KAAK,KAAK;oBAE7D,IAAI,gBAAgB,CAAC,GAAG;wBACtB,MAAM,WAAW,SAAS,CAAC,cAAc;wBACzC,IAAI,CAAC,SAAS,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG;4BACvC,MAAM,mBAAmB;mCAAI;6BAAU;4BACvC,gBAAgB,CAAC,cAAc,GAAG;gCAChC,GAAG,QAAQ;gCACX,SAAS;uCAAI,SAAS,OAAO;oCAAE,KAAK,EAAE;iCAAC;4BACzC;4BACA,OAAO;gCAAE,GAAG,GAAG;gCAAE,WAAW;4BAAiB;wBAC/C;oBACF,OAAO;wBACL,OAAO;4BACL,GAAG,GAAG;4BACN,WAAW;mCAAI;gCAAW;oCAAE;oCAAO,SAAS;wCAAC,KAAK,EAAE;qCAAC;gCAAC;6BAAE;wBAC1D;oBACF;gBACF;gBACA,OAAO;YACT;YACA,sBAAsB;YACtB,OAAO;QACT;IACF,GACA;QAAC;KAAK;IAGR;;GAEC,GACD,MAAM,iBAAiB,IAAA,oNAAW,EAChC,CAAC,WAAmB;QAClB,IAAI,CAAC,MAAM;QACX,YAAY,CAAC;YACX,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC;gBACxB,IAAI,IAAI,EAAE,KAAK,aAAa,IAAI,SAAS,EAAE;oBACzC,MAAM,mBAAmB,IAAI,SAAS,CACnC,GAAG,CAAC,CAAC;wBACJ,IAAI,EAAE,KAAK,KAAK,OAAO;4BACrB,OAAO;gCAAE,GAAG,CAAC;gCAAE,SAAS,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,KAAO,OAAO,KAAK,EAAE;4BAAE;wBACnE;wBACA,OAAO;oBACT,GACC,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,CAAC,MAAM,GAAG;oBACpC,OAAO;wBAAE,GAAG,GAAG;wBAAE,WAAW;oBAAiB;gBAC/C;gBACA,OAAO;YACT;YACA,sBAAsB;YACtB,OAAO;QACT;IACF,GACA;QAAC;KAAK;IAGR;;GAEC,GACD,MAAM,YAAY,IAAA,oNAAW,EAAC,CAAC;QAC7B,YAAY,CAAC;YACX,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,MAAS,IAAI,EAAE,KAAK,YAAY;oBAAE,GAAG,GAAG;oBAAE,UAAU,CAAC,IAAI,QAAQ;gBAAC,IAAI;YAChG,sBAAsB;YACtB,OAAO;QACT;IACF,GAAG,EAAE;IAEL;;GAEC,GACD,MAAM,oBAAoB,IAAA,oNAAW,EACnC,CAAC;QACC,OAAO,SAAS,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK,UAAU,IAAI,QAAQ;IACvE,GACA;QAAC;KAAS;IAGZ;;GAEC,GACD,MAAM,iBAAiB,IAAA,oNAAW,EAChC,CAAC;QACC,IAAI,CAAC,MAAM,IAAI,IAAI,OAAO,EAAE;QAC5B,OAAO,SAAS,MAAM,CAAC,CAAC,MAAQ,IAAI,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,MAAM,WAAW;IACtF,GACA;QAAC;KAAS;IAGZ;;GAEC,GACD,MAAM,cAAc,IAAA,oNAAW,EAAC,CAAC,WAAmB;QAClD,YAAY,CAAC;YACX,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,MACxB,IAAI,EAAE,KAAK,YAAY;oBAAE,GAAG,GAAG;oBAAE,SAAS;oBAAY,UAAU,IAAI;gBAAO,IAAI;YAEjF,sBAAsB;YACtB,OAAO;QACT;IACF,GAAG,EAAE;IAEL;;GAEC,GACD,MAAM,gBAAgB,IAAA,oNAAW,EAAC,CAAC;QACjC,YAAY,CAAC;YACX,MAAM,UAAU,KAAK,MAAM,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;YAChD,sBAAsB;YACtB,OAAO;QACT;IACF,GAAG,EAAE;IAEL;;GAEC,GACD,MAAM,iBAAiB,IAAA,oNAAW,EAChC,CAAC,WAAmB;QAClB,MAAM,mBAAmB,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACvD,IAAI,CAAC,oBAAoB,CAAC,MAAM;QAEhC,MAAM,aAAsB;YAC1B,GAAG,gBAAgB;YACnB,IAAI,CAAC,QAAQ,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE;YACtC,QAAQ;YACR,UAAU,KAAK,EAAE;YACjB,WAAW,IAAI;YACf,QAAQ;YACR,WAAW;QACb;QAEA,YAAY,CAAC;YACX,MAAM,UAAU;mBAAI;gBAAM;aAAW;YACrC,sBAAsB;YACtB,OAAO;QACT;QAEA,wCAAwC;QACxC,SAAS,CAAC;YACR,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,OACxB,KAAK,EAAE,KAAK,eAAe;oBAAE,GAAG,IAAI;oBAAE,aAAa;gBAAW,IAAI;YAEpE,mBAAmB;YACnB,OAAO;QACT;IACF,GACA;QAAC;QAAU;KAAK;IAGlB;;GAEC,GACD,MAAM,kBAAkB,IAAA,oNAAW,EACjC,CAAC,MAAc;QACb,IAAI,CAAC,MAAM;QAEX,MAAM,UAAgB;YACpB,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB,MAAM;YACN;YACA,QAAQ,yIAAc;YACtB,cAAc;gBAAC,KAAK,EAAE;mBAAK;aAAe;YAC1C,aAAa;YACb,WAAW,IAAI;QACjB;QAEA,SAAS,CAAC;YACR,MAAM,UAAU;gBAAC;mBAAY;aAAK;YAClC,mBAAmB;YACnB,OAAO;QACT;QACA,gBAAgB;IAClB,GACA;QAAC;KAAK;IAGR;;GAEC,GACD,MAAM,mBAAmB,IAAA,oNAAW,EAClC,CAAC;QACC,IAAI,CAAC,MAAM;QAEX,MAAM,cAAc;QACpB,MAAM,eAAe,YAAY,IAAI,CACnC,CAAC,OAAS,KAAK,IAAI,KAAK,YAAY,KAAK,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,KAAK,YAAY,CAAC,QAAQ,CAAC;QAGxG,IAAI,cAAc;YAChB,SAAS;YACT,gBAAgB;YAChB;QACF;QAEA,MAAM,UAAgB;YACpB,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ;YAC7C,MAAM;YACN,cAAc;gBAAC,KAAK,EAAE;gBAAE;aAAO;YAC/B,aAAa;YACb,WAAW,IAAI;QACjB;QAEA,MAAM,eAAe;YAAC;eAAY;SAAY;QAC9C,mBAAmB;QACnB,SAAS;QACT,gBAAgB;IAClB,GACA;QAAC;KAAK;IAGR;;GAEC,GACD,MAAM,aAAa,IAAA,oNAAW,EAAC,CAAC;QAC9B,SAAS,CAAC;YACR,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,OAAU,KAAK,EAAE,KAAK,SAAS;oBAAE,GAAG,IAAI;oBAAE,aAAa;gBAAE,IAAI;YACvF,mBAAmB;YACnB,OAAO;QACT;IACF,GAAG,EAAE;IAEL;;;GAGC,GACD,MAAM,qBAAqB,IAAA,oNAAW,EACpC,CAAC,QAAgB;QACf,SAAS,CAAC;YACR,MAAM,UAAkB,EAAE;YAC1B,KAAK,MAAM,KAAK,KAAM;gBACpB,IAAI,EAAE,EAAE,KAAK,QAAQ;oBACnB,MAAM,eAAe,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC,IAAM,MAAM;oBACxD,IAAI,aAAa,MAAM,GAAG,GAAG;wBAE3B;oBACF;oBACA,QAAQ,IAAI,CAAC;wBAAE,GAAG,CAAC;wBAAE;oBAAa;gBACpC,OAAO;oBACL,QAAQ,IAAI,CAAC;gBACf;YACF;YACA,mBAAmB;YAEnB,iEAAiE;YACjE,IAAI,cAAc,OAAO,QAAQ;gBAC/B,MAAM,QAAQ,QAAQ,IAAI,CAAC,CAAC,KAAO,GAAG,EAAE,KAAK;gBAC7C,IAAI,OAAO,gBAAgB;qBACtB,gBAAgB;YACvB;YAEA,OAAO;QACT;IACF,GACA;QAAC;KAAa;IAGhB,mCAAmC,GACnC,MAAM,aAAa,IAAA,oNAAW,EAC5B,CAAC;QACC,SAAS,CAAC;YACR,MAAM,UAAU,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;YAC5C,mBAAmB;YACnB,OAAO;QACT;QAEA,YAAY,CAAC;YACX,MAAM,UAAU,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;YAChD,sBAAsB;YACtB,OAAO;QACT;QAEA,IAAI,cAAc,OAAO,QAAQ;YAC/B,gBAAgB;QAClB;IACF,GACA;QAAC;KAAa;IAGhB,oDAAoD,GACpD,MAAM,WAAW,IAAA,oNAAW,EAC1B,CAAC,QAAgB;QACf,SAAS,CAAC;YACR,MAAM,UAAU,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,SAAS;oBAAE,GAAG,CAAC;oBAAE,GAAG,OAAO;gBAAC,IAAI;YAC1E,mBAAmB;YACnB,OAAO;QACT;QAEA,IAAI,cAAc,OAAO,QAAQ;YAC/B,MAAM,SAAS,iBAAiB,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,WAAW;YAChE,gBAAgB;QAClB;IACF,GACA;QAAC;KAAa;IAGhB;;GAEC,GACD,MAAM,YAAY,IAAA,oNAAW,EAC3B,CAAC,QAAgB;QACf,IAAI,CAAC,MAAM;QAEX,eAAe,CAAC;YACd,MAAM,gBAAgB,IAAI,CAAC,OAAO,IAAI,EAAE;YACxC,IAAI,YAAY,CAAC,cAAc,QAAQ,CAAC,KAAK,EAAE,GAAG;gBAChD,OAAO;oBAAE,GAAG,IAAI;oBAAE,CAAC,OAAO,EAAE;2BAAI;wBAAe,KAAK,EAAE;qBAAC;gBAAC;YAC1D,OAAO,IAAI,CAAC,UAAU;gBACpB,OAAO;oBAAE,GAAG,IAAI;oBAAE,CAAC,OAAO,EAAE,cAAc,MAAM,CAAC,CAAC,KAAO,OAAO,KAAK,EAAE;gBAAE;YAC3E;YACA,OAAO;QACT;IACF,GACA;QAAC;KAAK;IAGR;;GAEC,GACD,MAAM,cAAc,IAAA,oNAAW,EAC7B,CAAC;QACC,IAAI,KAAK,IAAI,KAAK,SAAS;YACzB,OAAO,KAAK,IAAI,IAAI;QACtB;QAEA,MAAM,cAAc,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,KAAO,OAAO,MAAM;QAChE,MAAM,YAAY,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAChD,OAAO,WAAW,QAAQ;IAC5B,GACA;QAAC;QAAM;KAAS;IAGlB;;GAEC,GACD,MAAM,gBAAgB,IAAA,oNAAW,EAC/B,CAAC;QACC,IAAI,KAAK,IAAI,KAAK,WAAW,KAAK,MAAM,EAAE;YACxC,OAAO,KAAK,MAAM;QACpB;QAEA,MAAM,cAAc,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,KAAO,OAAO,MAAM;QAChE,MAAM,YAAY,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAChD,OAAO,WAAW,UAAU;IAC9B,GACA;QAAC;QAAM;KAAS;IAGlB;;GAEC,GACD,MAAM,sBAAsB,IAAA,oNAAW,EACrC,CAAC;QACC,IAAI,KAAK,IAAI,KAAK,UAAU,OAAO;QACnC,MAAM,cAAc,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC,KAAO,OAAO,MAAM;QAChE,OAAO,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACvC,GACA;QAAC;QAAM;KAAS;IAGlB;;;GAGC,GACD,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,IAAI,CAAC,MAAM,OAAO,EAAE;QACpB,OAAO,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;IAChD,GAAG;QAAC;QAAM;KAAS;IAEnB,MAAM,QAAyB;QAC7B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAKO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/context/socket-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Socket Context (Mock Implementation)\n *\n * Provides WebSocket-like functionality for real-time features.\n * This is a placeholder implementation that simulates socket behavior.\n *\n * In production, replace with actual Socket.io or WebSocket connection:\n * - import { io } from \"socket.io-client\";\n * - const socket = io(\"YOUR_SOCKET_SERVER_URL\");\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useCallback, useEffect, useState } from \"react\"\nimport { useAuth } from \"./auth-context\"\n\ntype SocketEventHandler = (data: unknown) => void\n\ninterface SocketContextType {\n  isConnected: boolean\n  emit: (event: string, data: unknown) => void\n  on: (event: string, handler: SocketEventHandler) => void\n  off: (event: string, handler: SocketEventHandler) => void\n}\n\nconst SocketContext = createContext<SocketContextType | undefined>(undefined)\n\nexport function SocketProvider({ children }: { children: React.ReactNode }) {\n  const { user, isAuthenticated } = useAuth()\n  const [isConnected, setIsConnected] = useState(false)\n  const [eventHandlers, setEventHandlers] = useState<{\n    [event: string]: SocketEventHandler[]\n  }>({})\n\n  /**\n   * Simulate socket connection when user authenticates\n   */\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      // Simulate connection delay\n      const timer = setTimeout(() => {\n        setIsConnected(true)\n        console.log(\"[QuickChat Socket] Connected as:\", user.name)\n\n        // Emit connected event\n        triggerEvent(\"user:connected\", { userId: user.id })\n      }, 500)\n\n      return () => {\n        clearTimeout(timer)\n        setIsConnected(false)\n        console.log(\"[QuickChat Socket] Disconnected\")\n      }\n    } else {\n      setIsConnected(false)\n    }\n  }, [isAuthenticated, user])\n\n  /**\n   * Trigger all handlers for an event\n   */\n  const triggerEvent = useCallback(\n    (event: string, data: unknown) => {\n      const handlers = eventHandlers[event] || []\n      handlers.forEach((handler) => handler(data))\n    },\n    [eventHandlers],\n  )\n\n  /**\n   * Emit an event (simulates sending to server)\n   * In production, this would use socket.emit()\n   */\n  const emit = useCallback(\n    (event: string, data: unknown) => {\n      if (!isConnected) {\n        console.warn(\"[QuickChat Socket] Not connected, cannot emit:\", event)\n        return\n      }\n\n      console.log(\"[QuickChat Socket] Emit:\", event, data)\n\n      // Simulate server response for certain events\n      switch (event) {\n        case \"message:send\":\n          // Simulate message delivery confirmation\n          setTimeout(() => {\n            triggerEvent(\"message:delivered\", data)\n          }, 500)\n          break\n\n        case \"typing:start\":\n          // Simulate typing indicator broadcast\n          setTimeout(() => {\n            triggerEvent(\"user:typing\", data)\n          }, 100)\n          break\n\n        case \"typing:stop\":\n          setTimeout(() => {\n            triggerEvent(\"user:stopped-typing\", data)\n          }, 100)\n          break\n\n        default:\n          break\n      }\n    },\n    [isConnected, triggerEvent],\n  )\n\n  /**\n   * Subscribe to an event\n   */\n  const on = useCallback((event: string, handler: SocketEventHandler) => {\n    setEventHandlers((prev) => ({\n      ...prev,\n      [event]: [...(prev[event] || []), handler],\n    }))\n  }, [])\n\n  /**\n   * Unsubscribe from an event\n   */\n  const off = useCallback((event: string, handler: SocketEventHandler) => {\n    setEventHandlers((prev) => ({\n      ...prev,\n      [event]: (prev[event] || []).filter((h) => h !== handler),\n    }))\n  }, [])\n\n  /**\n   * Simulate random typing indicators from other users\n   */\n  useEffect(() => {\n    if (!isConnected) return\n\n    const interval = setInterval(() => {\n      // Randomly trigger typing indicator (10% chance)\n      if (Math.random() < 0.1) {\n        triggerEvent(\"user:typing\", {\n          userId: \"user-2\",\n          chatId: \"chat-1\",\n        })\n\n        // Stop typing after 2-4 seconds\n        setTimeout(\n          () => {\n            triggerEvent(\"user:stopped-typing\", {\n              userId: \"user-2\",\n              chatId: \"chat-1\",\n            })\n          },\n          2000 + Math.random() * 2000,\n        )\n      }\n    }, 5000)\n\n    return () => clearInterval(interval)\n  }, [isConnected, triggerEvent])\n\n  const value: SocketContextType = {\n    isConnected,\n    emit,\n    on,\n    off,\n  }\n\n  return <SocketContext.Provider value={value}>{children}</SocketContext.Provider>\n}\n\n/**\n * Custom hook to access socket context\n */\nexport function useSocket() {\n  const context = useContext(SocketContext)\n  if (context === undefined) {\n    throw new Error(\"useSocket must be used within a SocketProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 958, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/context/friend-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Friend Context\n *\n * Manages friend requests and friendships between users.\n * Uses a global shared database in localStorage so all users can access each other's data.\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useCallback, useEffect, useRef } from \"react\"\nimport { useAuth } from \"./auth-context\"\n\n// Friend request status types\nexport type RequestStatus = \"pending\" | \"accepted\" | \"rejected\"\n\n// Friend request interface\nexport interface FriendRequest {\n  id: string\n  fromUserId: string\n  toUserId: string\n  status: RequestStatus\n  createdAt: Date\n}\n\n// Friendship interface (accepted requests)\nexport interface Friendship {\n  id: string\n  user1Id: string\n  user2Id: string\n  createdAt: Date\n}\n\ninterface FriendContextType {\n  // State\n  friendRequests: FriendRequest[]\n  friendships: Friendship[]\n\n  // Actions\n  sendFriendRequest: (toUserId: string) => void\n  acceptFriendRequest: (requestId: string) => void\n  rejectFriendRequest: (requestId: string) => void\n  cancelFriendRequest: (requestId: string) => void\n  removeFriend: (friendshipId: string) => void\n\n  // Helpers\n  isFriend: (userId: string) => boolean\n  hasPendingRequestTo: (userId: string) => boolean\n  hasPendingRequestFrom: (userId: string) => boolean\n  getRequestStatus: (userId: string) => \"none\" | \"sent\" | \"received\" | \"friends\"\n  getIncomingRequests: () => FriendRequest[]\n  getOutgoingRequests: () => FriendRequest[]\n  getFriendIds: () => string[]\n}\n\nconst FriendContext = createContext<FriendContextType | undefined>(undefined)\n\n// Global database keys - shared by all users\nconst GLOBAL_REQUESTS_DB = \"quickchat_all_requests_db\"\nconst GLOBAL_FRIENDSHIPS_DB = \"quickchat_all_friendships_db\"\nconst POLL_INTERVAL = 1000 // Check for updates every second\n\n// Helper functions to manage global database\nconst getAllRequestsFromDB = (): FriendRequest[] => {\n  if (typeof window === \"undefined\") return []\n  try {\n    const data = localStorage.getItem(GLOBAL_REQUESTS_DB)\n    return data ? JSON.parse(data) : []\n  } catch (e) {\n    console.error(\"Error reading requests DB:\", e)\n    return []\n  }\n}\n\nconst getAllFriendshipsFromDB = (): Friendship[] => {\n  if (typeof window === \"undefined\") return []\n  try {\n    const data = localStorage.getItem(GLOBAL_FRIENDSHIPS_DB)\n    return data ? JSON.parse(data) : []\n  } catch (e) {\n    console.error(\"Error reading friendships DB:\", e)\n    return []\n  }\n}\n\nconst saveRequestsToDB = (requests: FriendRequest[]) => {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(GLOBAL_REQUESTS_DB, JSON.stringify(requests))\n  } catch (e) {\n    console.error(\"Error saving requests DB:\", e)\n  }\n}\n\nconst saveFriendshipsToDB = (friendships: Friendship[]) => {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(GLOBAL_FRIENDSHIPS_DB, JSON.stringify(friendships))\n  } catch (e) {\n    console.error(\"Error saving friendships DB:\", e)\n  }\n}\n\nexport function FriendProvider({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth()\n\n  const [friendRequests, setFriendRequests] = useState<FriendRequest[]>([])\n  const [friendships, setFriendships] = useState<Friendship[]>([])\n  const pollTimerRef = useRef<NodeJS.Timeout | null>(null)\n\n  // Load relevant requests and friendships for current user from global DB\n  const loadUserData = useCallback(() => {\n    if (!user) return\n\n    const allRequests = getAllRequestsFromDB()\n    const allFriendships = getAllFriendshipsFromDB()\n\n    // Filter requests relevant to this user\n    const userRequests = allRequests.filter(\n      (r) => r.fromUserId === user.id || r.toUserId === user.id\n    )\n\n    // Filter friendships relevant to this user\n    const userFriendships = allFriendships.filter(\n      (f) => f.user1Id === user.id || f.user2Id === user.id\n    )\n\n    setFriendRequests(userRequests)\n    setFriendships(userFriendships)\n\n    console.log(\"[Friend Context] Loaded data for user:\", user.id, { userRequests, userFriendships })\n  }, [user])\n\n  // Load data when user changes\n  useEffect(() => {\n    loadUserData()\n  }, [user, loadUserData])\n\n  // Poll for changes every second\n  useEffect(() => {\n    if (!user) return\n\n    pollTimerRef.current = setInterval(() => {\n      loadUserData()\n    }, POLL_INTERVAL)\n\n    return () => {\n      if (pollTimerRef.current) {\n        clearInterval(pollTimerRef.current)\n      }\n    }\n  }, [user, loadUserData])\n\n  // Listen to storage changes from other tabs\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === GLOBAL_REQUESTS_DB || e.key === GLOBAL_FRIENDSHIPS_DB) {\n        console.log(\"[Friend Context] Storage changed in another tab:\", e.key)\n        loadUserData()\n      }\n    }\n\n    window.addEventListener(\"storage\", handleStorageChange)\n    return () => window.removeEventListener(\"storage\", handleStorageChange)\n  }, [loadUserData])\n\n  const sendFriendRequest = useCallback(\n    (toUserId: string) => {\n      if (!user) {\n        console.log(\"[Friend Context] Cannot send request - no user logged in\")\n        return\n      }\n\n      console.log(\"[Friend Context] Sending request from\", user.id, \"to\", toUserId)\n\n      const allRequests = getAllRequestsFromDB()\n\n      // Check if request already exists\n      const exists = allRequests.some(\n        (r) =>\n          (r.fromUserId === user.id && r.toUserId === toUserId) ||\n          (r.fromUserId === toUserId && r.toUserId === user.id)\n      )\n\n      if (exists) {\n        console.log(\"[Friend Context] Request already exists\")\n        return\n      }\n\n      // Check if already friends\n      const allFriendships = getAllFriendshipsFromDB()\n      const isFriends = allFriendships.some(\n        (f) =>\n          (f.user1Id === user.id && f.user2Id === toUserId) ||\n          (f.user1Id === toUserId && f.user2Id === user.id)\n      )\n\n      if (isFriends) {\n        console.log(\"[Friend Context] Already friends\")\n        return\n      }\n\n      const newRequest: FriendRequest = {\n        id: `req-${Date.now()}`,\n        fromUserId: user.id,\n        toUserId,\n        status: \"pending\",\n        createdAt: new Date(),\n      }\n\n      const updatedRequests = [...allRequests, newRequest]\n      saveRequestsToDB(updatedRequests)\n\n      // Reload local state\n      setFriendRequests((prev) => [...prev, newRequest])\n\n      console.log(\"[Friend Context] Request sent:\", newRequest)\n    },\n    [user]\n  )\n\n  const acceptFriendRequest = useCallback(\n    (requestId: string) => {\n      const allRequests = getAllRequestsFromDB()\n      const request = allRequests.find((r) => r.id === requestId)\n\n      if (!request || request.status !== \"pending\") return\n\n      // Update request status\n      const updatedRequests = allRequests.map((r) =>\n        r.id === requestId ? { ...r, status: \"accepted\" as RequestStatus } : r\n      )\n      saveRequestsToDB(updatedRequests)\n\n      // Add friendship\n      const allFriendships = getAllFriendshipsFromDB()\n      const newFriendship: Friendship = {\n        id: `friend-${Date.now()}`,\n        user1Id: request.fromUserId,\n        user2Id: request.toUserId,\n        createdAt: new Date(),\n      }\n      const updatedFriendships = [...allFriendships, newFriendship]\n      saveFriendshipsToDB(updatedFriendships)\n\n      // Reload local state\n      setFriendRequests(updatedRequests.filter((r) => r.fromUserId === user?.id || r.toUserId === user?.id))\n      setFriendships(updatedFriendships.filter((f) => f.user1Id === user?.id || f.user2Id === user?.id))\n\n      console.log(\"[Friend Context] Request accepted:\", requestId)\n    },\n    [user]\n  )\n\n  const rejectFriendRequest = useCallback(\n    (requestId: string) => {\n      const allRequests = getAllRequestsFromDB()\n      const updatedRequests = allRequests.filter((r) => r.id !== requestId)\n      saveRequestsToDB(updatedRequests)\n\n      setFriendRequests((prev) => prev.filter((r) => r.id !== requestId))\n    },\n    []\n  )\n\n  const cancelFriendRequest = useCallback(\n    (requestId: string) => {\n      const allRequests = getAllRequestsFromDB()\n      const updatedRequests = allRequests.filter((r) => r.id !== requestId)\n      saveRequestsToDB(updatedRequests)\n\n      setFriendRequests((prev) => prev.filter((r) => r.id !== requestId))\n    },\n    []\n  )\n\n  const removeFriend = useCallback(\n    (friendshipId: string) => {\n      const allFriendships = getAllFriendshipsFromDB()\n      const updatedFriendships = allFriendships.filter((f) => f.id !== friendshipId)\n      saveFriendshipsToDB(updatedFriendships)\n\n      setFriendships((prev) => prev.filter((f) => f.id !== friendshipId))\n\n      // Also remove associated request\n      const friendship = allFriendships.find((f) => f.id === friendshipId)\n      if (friendship) {\n        const allRequests = getAllRequestsFromDB()\n        const updatedRequests = allRequests.filter(\n          (r) =>\n            !(\n              (r.fromUserId === friendship.user1Id && r.toUserId === friendship.user2Id) ||\n              (r.fromUserId === friendship.user2Id && r.toUserId === friendship.user1Id)\n            )\n        )\n        saveRequestsToDB(updatedRequests)\n      }\n    },\n    []\n  )\n\n  const isFriend = useCallback(\n    (userId: string): boolean => {\n      if (!user) return false\n      return friendships.some(\n        (f) => (f.user1Id === user.id && f.user2Id === userId) || (f.user1Id === userId && f.user2Id === user.id)\n      )\n    },\n    [user, friendships]\n  )\n\n  const hasPendingRequestTo = useCallback(\n    (userId: string): boolean => {\n      if (!user) return false\n      return friendRequests.some(\n        (r) => r.fromUserId === user.id && r.toUserId === userId && r.status === \"pending\"\n      )\n    },\n    [user, friendRequests]\n  )\n\n  const hasPendingRequestFrom = useCallback(\n    (userId: string): boolean => {\n      if (!user) return false\n      return friendRequests.some(\n        (r) => r.fromUserId === userId && r.toUserId === user.id && r.status === \"pending\"\n      )\n    },\n    [user, friendRequests]\n  )\n\n  const getRequestStatus = useCallback(\n    (userId: string): \"none\" | \"sent\" | \"received\" | \"friends\" => {\n      if (isFriend(userId)) return \"friends\"\n      if (hasPendingRequestTo(userId)) return \"sent\"\n      if (hasPendingRequestFrom(userId)) return \"received\"\n      return \"none\"\n    },\n    [isFriend, hasPendingRequestTo, hasPendingRequestFrom]\n  )\n\n  const getIncomingRequests = useCallback((): FriendRequest[] => {\n    if (!user) return []\n    return friendRequests.filter((r) => r.toUserId === user.id && r.status === \"pending\")\n  }, [user, friendRequests])\n\n  const getOutgoingRequests = useCallback((): FriendRequest[] => {\n    if (!user) return []\n    return friendRequests.filter((r) => r.fromUserId === user.id && r.status === \"pending\")\n  }, [user, friendRequests])\n\n  const getFriendIds = useCallback((): string[] => {\n    if (!user) return []\n    return friendships.map((f) => (f.user1Id === user.id ? f.user2Id : f.user1Id))\n  }, [user, friendships])\n\n  const value: FriendContextType = {\n    friendRequests,\n    friendships,\n    sendFriendRequest,\n    acceptFriendRequest,\n    rejectFriendRequest,\n    cancelFriendRequest,\n    removeFriend,\n    isFriend,\n    hasPendingRequestTo,\n    hasPendingRequestFrom,\n    getRequestStatus,\n    getIncomingRequests,\n    getOutgoingRequests,\n    getFriendIds,\n  }\n\n  return <FriendContext.Provider value={value}>{children}</FriendContext.Provider>\n}\n\nexport function useFriend() {\n  const context = useContext(FriendContext)\n  if (context === undefined) {\n    throw new Error(\"useFriend must be used within a FriendProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1240, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/login-page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Login Page Component\n *\n * Authentication page for existing users.\n */\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { MessageSquare, Mail, Lock, Eye, EyeOff } from \"lucide-react\"\nimport { useAuth } from \"@/context/auth-context\"\n\ninterface LoginPageProps {\n  onSwitchToRegister: () => void\n}\n\nexport function LoginPage({ onSwitchToRegister }: LoginPageProps) {\n  const { login, error, isLoading } = useAuth()\n\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [showPassword, setShowPassword] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await login(email, password)\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-[var(--color-background)] p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 rounded-2xl bg-[var(--color-primary)] flex items-center justify-center mx-auto mb-4\">\n            <MessageSquare className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-[var(--color-foreground)]\">Welcome back</h1>\n          <p className=\"text-[var(--color-muted)] mt-1\">Sign in to continue to QuickChat</p>\n        </div>\n\n        {/* Form */}\n        <div className=\"bg-[var(--color-card)] rounded-2xl shadow-lg p-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Email */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Email</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Enter your email\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Password</label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Enter your password\"\n                  className=\"w-full pl-12 pr-12 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--color-muted)] hover:text-[var(--color-foreground)]\"\n                >\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n            </div>\n\n            {/* Error message */}\n            {error && (\n              <div className=\"p-3 rounded-lg bg-[var(--color-destructive)]/10 text-[var(--color-destructive)] text-sm\">\n                {error}\n              </div>\n            )}\n\n            {/* Demo hint */}\n            <div className=\"p-3 rounded-lg bg-[var(--color-accent)] text-sm text-[var(--color-accent-foreground)]\">\n              <p className=\"font-medium\">Demo credentials:</p>\n              <p>Email: john@example.com | Password: any 6+ chars</p>\n            </div>\n\n            {/* Submit button */}\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full py-3 px-4 rounded-lg bg-[var(--color-primary)] text-white font-medium hover:bg-[var(--color-primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? \"Signing in...\" : \"Sign In\"}\n            </button>\n          </form>\n\n          {/* Switch to register */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-[var(--color-muted)]\">\n              Don't have an account?{\" \"}\n              <button onClick={onSwitchToRegister} className=\"text-[var(--color-primary)] font-medium hover:underline\">\n                Sign up\n              </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAXA;;;;;AAiBO,SAAS,UAAU,EAAE,kBAAkB,EAAkB;IAC9D,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,sIAAO;IAE3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,MAAM,OAAO;IACrB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,yOAAa;gCAAC,WAAU;;;;;;;;;;;sCAE3B,8OAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAClE,8OAAC;4BAAE,WAAU;sCAAiC;;;;;;;;;;;;8BAIhD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,UAAU;4BAAc,WAAU;;8CAEtC,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAAgE;;;;;;sDACjF,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,0MAAI;oDAAC,WAAU;;;;;;8DAChB,8OAAC;oDACC,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oDACxC,aAAY;oDACZ,WAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;;;8CAMd,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAAgE;;;;;;sDACjF,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,0MAAI;oDAAC,WAAU;;;;;;8DAChB,8OAAC;oDACC,MAAM,eAAe,SAAS;oDAC9B,OAAO;oDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC3C,aAAY;oDACZ,WAAU;oDACV,QAAQ;;;;;;8DAEV,8OAAC;oDACC,MAAK;oDACL,SAAS,IAAM,gBAAgB,CAAC;oDAChC,WAAU;8DAET,6BAAe,8OAAC,oNAAM;wDAAC,WAAU;;;;;6EAAe,8OAAC,uMAAG;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;gCAMrE,uBACC,8OAAC;oCAAI,WAAU;8CACZ;;;;;;8CAKL,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAc;;;;;;sDAC3B,8OAAC;sDAAE;;;;;;;;;;;;8CAIL,8OAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,YAAY,kBAAkB;;;;;;;;;;;;sCAKnC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;oCAA4B;oCAChB;kDACvB,8OAAC;wCAAO,SAAS;wCAAoB,WAAU;kDAA0D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvH"}},
    {"offset": {"line": 1524, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/register-page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Register Page Component\n *\n * Registration page for new users.\n */\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { MessageSquare, Mail, Lock, User, Eye, EyeOff } from \"lucide-react\"\nimport { useAuth } from \"@/context/auth-context\"\n\ninterface RegisterPageProps {\n  onSwitchToLogin: () => void\n}\n\nexport function RegisterPage({ onSwitchToLogin }: RegisterPageProps) {\n  const { register, error, isLoading } = useAuth()\n\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [confirmPassword, setConfirmPassword] = useState(\"\")\n  const [showPassword, setShowPassword] = useState(false)\n  const [validationError, setValidationError] = useState(\"\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setValidationError(\"\")\n\n    if (password !== confirmPassword) {\n      setValidationError(\"Passwords do not match\")\n      return\n    }\n\n    if (password.length < 6) {\n      setValidationError(\"Password must be at least 6 characters\")\n      return\n    }\n\n    await register(name, email, password)\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-[var(--color-background)] p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 rounded-2xl bg-[var(--color-primary)] flex items-center justify-center mx-auto mb-4\">\n            <MessageSquare className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-[var(--color-foreground)]\">Create an account</h1>\n          <p className=\"text-[var(--color-muted)] mt-1\">Join QuickChat and start messaging</p>\n        </div>\n\n        {/* Form */}\n        <div className=\"bg-[var(--color-card)] rounded-2xl shadow-lg p-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Name */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Full Name</label>\n              <div className=\"relative\">\n                <User className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  placeholder=\"Enter your name\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Email */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Email</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Enter your email\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Password</label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Create a password\"\n                  className=\"w-full pl-12 pr-12 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--color-muted)] hover:text-[var(--color-foreground)]\"\n                >\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n            </div>\n\n            {/* Confirm Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Confirm Password</label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  placeholder=\"Confirm your password\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Error message */}\n            {(error || validationError) && (\n              <div className=\"p-3 rounded-lg bg-[var(--color-destructive)]/10 text-[var(--color-destructive)] text-sm\">\n                {error || validationError}\n              </div>\n            )}\n\n            {/* Submit button */}\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full py-3 px-4 rounded-lg bg-[var(--color-primary)] text-white font-medium hover:bg-[var(--color-primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? \"Creating account...\" : \"Create Account\"}\n            </button>\n          </form>\n\n          {/* Switch to login */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-[var(--color-muted)]\">\n              Already have an account?{\" \"}\n              <button onClick={onSwitchToLogin} className=\"text-[var(--color-primary)] font-medium hover:underline\">\n                Sign in\n              </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1885, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/user-list.tsx"],"sourcesContent":["\"use client\"\n\nimport { useChat } from \"@/context/chat-context\"\nimport { useFriend } from \"@/context/friend-context\"\nimport { UserPlus, Clock, Check, MessageSquare, X, CheckCircle } from \"lucide-react\"\nimport { useState } from \"react\"\n\ninterface UserListProps {\n  onMobileClose?: () => void\n}\n\nexport function UserList({ onMobileClose }: UserListProps) {\n  const { availableUsers, createDirectChat } = useChat()\n  const { getRequestStatus, sendFriendRequest, cancelFriendRequest, getOutgoingRequests } = useFriend()\n  const [notification, setNotification] = useState<{ message: string; type: \"success\" | \"error\" } | null>(null)\n\n  const showNotification = (message: string, type: \"success\" | \"error\" = \"success\") => {\n    setNotification({ message, type })\n    // Also show browser alert so user definitely sees it\n    alert(message)\n    setTimeout(() => setNotification(null), 5000)\n  }\n\n  const handleSendRequest = (userId: string) => {\n    const user = availableUsers.find((u) => u.id === userId)\n    sendFriendRequest(userId)\n    showNotification(`Friend request sent to ${user?.name || \"user\"}!`, \"success\")\n  }\n\n  const handleCancelRequest = (userId: string) => {\n    const outgoing = getOutgoingRequests()\n    const request = outgoing.find((r) => r.toUserId === userId)\n    if (request) {\n      cancelFriendRequest(request.id)\n      showNotification(\"Friend request cancelled\", \"success\")\n    }\n  }\n\n  const handleStartChat = (userId: string) => {\n    createDirectChat(userId)\n    onMobileClose?.()\n  }\n\n  // Group users by online status\n  const onlineUsers = availableUsers.filter((u) => u.status === \"online\")\n  const offlineUsers = availableUsers.filter((u) => u.status !== \"online\")\n\n  const renderUserAction = (userId: string) => {\n    const status = getRequestStatus(userId)\n\n    switch (status) {\n      case \"friends\":\n        return (\n          <button\n            onClick={() => handleStartChat(userId)}\n            className=\"flex items-center gap-1.5 px-4 py-2 bg-gradient-to-r from-[#6366f1] to-[#7c3aed] text-white rounded-full text-xs font-bold hover:shadow-lg hover:scale-105 transition-all duration-200 active:scale-95\"\n          >\n            <MessageSquare className=\"w-4 h-4\" />\n            Chat\n          </button>\n        )\n      case \"sent\":\n        return (\n          <button\n            onClick={() => handleCancelRequest(userId)}\n            className=\"flex items-center gap-1.5 px-4 py-2 bg-[var(--color-secondary)] text-[var(--color-muted-foreground)] rounded-full text-xs font-bold hover:bg-red-100 hover:text-red-600 transition-all duration-200 group\"\n          >\n            <Clock className=\"w-4 h-4 group-hover:hidden\" />\n            <X className=\"w-4 h-4 hidden group-hover:block\" />\n            <span className=\"group-hover:hidden\">Pending</span>\n            <span className=\"hidden group-hover:block\">Cancel</span>\n          </button>\n        )\n      case \"received\":\n        return (\n          <span className=\"flex items-center gap-1.5 px-4 py-2 bg-[#10b981]/10 text-[#10b981] border border-[#10b981]/30 rounded-full text-xs font-bold\">\n            <Check className=\"w-4 h-4\" />\n            Respond\n          </span>\n        )\n      default:\n        return (\n          <button\n            onClick={() => handleSendRequest(userId)}\n            className=\"flex items-center gap-1.5 px-4 py-2 bg-gradient-to-r from-[#ec4899] to-[#f472b6] text-white rounded-full text-xs font-bold hover:shadow-lg hover:scale-105 transition-all duration-200 active:scale-95\"\n          >\n            <UserPlus className=\"w-4 h-4\" />\n            Add Friend\n          </button>\n        )\n    }\n  }\n\n  const renderUserSection = (users: typeof availableUsers, title: string, isOnline: boolean) => {\n    if (users.length === 0) return null\n\n    return (\n      <div>\n        <div className=\"px-4 py-3 bg-gradient-to-r from-[var(--color-secondary)] to-transparent border-b border-[var(--color-border)]\">\n          <h4 className=\"text-xs font-bold text-[var(--color-muted-foreground)] uppercase tracking-wider flex items-center gap-2\">\n            <span className={`w-2 h-2 rounded-full ${isOnline ? 'bg-[#10b981]' : 'bg-[var(--color-offline)]'} animate-pulse`} />\n            {title}  <span className=\"font-black\">{users.length}</span>\n          </h4>\n        </div>\n        <div className=\"space-y-1 p-2\">\n          {users.map((user) => (\n            <div\n              key={user.id}\n              className=\"w-full p-3 flex items-center gap-3 rounded-xl hover:bg-[var(--color-secondary)] transition-all duration-200 group\"\n            >\n              <div className=\"relative flex-shrink-0\">\n                <img\n                  src={user.avatar || \"/default-avatar.png\"}\n                  alt={user.name}\n                  className=\"w-12 h-12 rounded-lg object-cover shadow-md group-hover:shadow-lg transition-shadow\"\n                />\n                <span\n                  className={`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white ${\n                    isOnline ? \"bg-[#10b981]\" : \"bg-[var(--color-offline)]\"\n                  } shadow-md`}\n                />\n              </div>\n              <div className=\"flex-1 text-left\">\n                <h3 className=\"font-semibold text-[var(--color-foreground)]\">{user.name}</h3>\n                <p className={`text-xs font-medium ${isOnline ? \"text-[#10b981]\" : \"text-[var(--color-muted)]\"}`}>\n                  {isOnline ? \" Online\" : user.lastSeen ? `Last seen ${user.lastSeen}` : \" Offline\"}\n                </p>\n              </div>\n              {renderUserAction(user.id)}\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"divide-y divide-[var(--color-border)]\">\n      {notification && (\n        <div\n          className={`p-4 flex items-center gap-3 backdrop-blur-sm border-b font-bold animate-slideDown ${\n            notification.type === \"success\" ? \"bg-[#10b981]/15 text-[#10b981] border-[#10b981]/30\" : \"bg-red-500/15 text-red-600 border-red-500/30\"\n          }`}\n        >\n          <CheckCircle className=\"w-5 h-5 flex-shrink-0\" />\n          <span>{notification.message}</span>\n        </div>\n      )}\n\n      {availableUsers.length === 0 ? (\n        <div className=\"p-12 text-center text-[var(--color-muted)]\">\n          <div className=\"w-16 h-16 rounded-full bg-[var(--color-primary)]/10 flex items-center justify-center mx-auto mb-4\">\n            <UserPlus className=\"w-8 h-8 text-[var(--color-primary)]\" />\n          </div>\n          <p className=\"font-semibold mb-1\">No users found</p>\n          <p className=\"text-sm\">Invite friends to start connecting!</p>\n        </div>\n      ) : (\n        <>\n          {renderUserSection(onlineUsers, \"Online\", true)}\n          {renderUserSection(offlineUsers, \"Offline\", false)}\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2232, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/friend-requests.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Friend Requests Component\n *\n * Displays incoming and outgoing friend requests with accept/reject actions.\n */\n\nimport { useFriend } from \"@/context/friend-context\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { Check, X, Clock, UserPlus, Send } from \"lucide-react\"\nimport { useEffect, useState } from \"react\"\nimport { getAllUsers, type User } from \"@/utils/dummy-users\"\n\ninterface FriendRequestsProps {\n  onMobileClose?: () => void\n}\n\nexport function FriendRequests({ onMobileClose }: FriendRequestsProps) {\n  const { user } = useAuth()\n  const {\n    getIncomingRequests,\n    getOutgoingRequests,\n    acceptFriendRequest,\n    rejectFriendRequest,\n    cancelFriendRequest,\n    friendRequests,\n  } = useFriend()\n  const { availableUsers } = useChat()\n\n  const [allUsers, setAllUsers] = useState<User[]>([])\n\n  useEffect(() => {\n    // Refresh users list every second to ensure we have latest registered users\n    const refreshUsers = () => {\n      setAllUsers(getAllUsers())\n    }\n    refreshUsers()\n    const interval = setInterval(refreshUsers, 1000)\n    return () => clearInterval(interval)\n  }, [])\n\n  const incomingRequests = getIncomingRequests()\n  const outgoingRequests = getOutgoingRequests()\n\n  const getUserById = (userId: string) => {\n    // First check allUsers, then fall back to availableUsers\n    return allUsers.find((u) => u.id === userId) || availableUsers.find((u) => u.id === userId)\n  }\n\n  const handleAccept = (requestId: string) => {\n    acceptFriendRequest(requestId)\n  }\n\n  const handleReject = (requestId: string) => {\n    rejectFriendRequest(requestId)\n  }\n\n  const handleCancel = (requestId: string) => {\n    cancelFriendRequest(requestId)\n  }\n\n  if (incomingRequests.length === 0 && outgoingRequests.length === 0) {\n    return (\n      <div className=\"p-8 text-center text-[var(--color-muted)]\">\n        <UserPlus className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n        <p>No friend requests</p>\n        <p className=\"text-sm mt-1\">Send requests from the Users tab</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"divide-y divide-[var(--color-border)]\">\n      {/* Incoming Requests */}\n      {incomingRequests.length > 0 && (\n        <div>\n          <div className=\"px-4 py-2 bg-[var(--color-secondary)]\">\n            <h4 className=\"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide flex items-center gap-2\">\n              <UserPlus className=\"w-3.5 h-3.5\" />\n              Incoming Requests  {incomingRequests.length}\n            </h4>\n          </div>\n          {incomingRequests.map((request) => {\n            const fromUser = getUserById(request.fromUserId)\n\n            return (\n              <div\n                key={request.id}\n                className=\"p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors\"\n              >\n                <div className=\"relative\">\n                    <img\n                      src={fromUser?.avatar || \"/default-avatar.png\"}\n                      alt={fromUser?.name || \"User\"}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  <span\n                    className={`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${\n                      fromUser?.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                    }`}\n                  />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"font-medium text-[var(--color-foreground)]\">{fromUser?.name || \"Unknown User\"}</h3>\n                  <p className=\"text-xs text-[var(--color-muted)]\">Wants to connect with you</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    onClick={() => handleAccept(request.id)}\n                    className=\"p-2 bg-[var(--color-primary)] text-white rounded-full hover:bg-[var(--color-primary-hover)] transition-colors\"\n                    title=\"Accept\"\n                  >\n                    <Check className=\"w-4 h-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleReject(request.id)}\n                    className=\"p-2 bg-[var(--color-muted)] text-[var(--color-muted-foreground)] rounded-full hover:bg-red-100 hover:text-red-600 transition-colors\"\n                    title=\"Reject\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      )}\n\n      {/* Outgoing Requests */}\n      {outgoingRequests.length > 0 && (\n        <div>\n          <div className=\"px-4 py-2 bg-[var(--color-secondary)]\">\n            <h4 className=\"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide flex items-center gap-2\">\n              <Send className=\"w-3.5 h-3.5\" />\n              Sent Requests  {outgoingRequests.length}\n            </h4>\n          </div>\n          {outgoingRequests.map((request) => {\n            const toUser = getUserById(request.toUserId)\n\n            return (\n              <div\n                key={request.id}\n                className=\"p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors\"\n              >\n                <div className=\"relative\">\n                    <img\n                      src={toUser?.avatar || \"/default-avatar.png\"}\n                      alt={toUser?.name || \"User\"}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  <span\n                    className={`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${\n                      toUser?.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                    }`}\n                  />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"font-medium text-[var(--color-foreground)]\">{toUser?.name || \"Unknown User\"}</h3>\n                  <p className=\"text-xs text-[var(--color-muted)] flex items-center gap-1\">\n                    <Clock className=\"w-3 h-3\" />\n                    Awaiting response\n                  </p>\n                </div>\n                <button\n                  onClick={() => handleCancel(request.id)}\n                  className=\"flex items-center gap-1.5 px-3 py-1.5 bg-[var(--color-muted)] text-[var(--color-muted-foreground)] rounded-full text-xs font-medium hover:bg-red-100 hover:text-red-600 transition-colors\"\n                >\n                  <X className=\"w-3.5 h-3.5\" />\n                  Cancel\n                </button>\n              </div>\n            )\n          })}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2593, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/group-creation-modal.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Group Creation Modal\n *\n * Modal dialog for creating new group chats with selected participants.\n * Only shows friends (users who have accepted friend requests).\n */\n\nimport { useState } from \"react\"\nimport { X, Check, Users, UserPlus } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useFriend } from \"@/context/friend-context\"\n\ninterface GroupCreationModalProps {\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport function GroupCreationModal({ isOpen, onClose }: GroupCreationModalProps) {\n  const { availableUsers, createGroupChat } = useChat()\n  const { isFriend } = useFriend()\n\n  const [groupName, setGroupName] = useState(\"\")\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([])\n\n  const friendUsers = availableUsers.filter((user) => isFriend(user.id))\n\n  const handleToggleUser = (userId: string) => {\n    setSelectedUsers((prev) => (prev.includes(userId) ? prev.filter((id) => id !== userId) : [...prev, userId]))\n  }\n\n  const handleCreate = () => {\n    if (groupName.trim() && selectedUsers.length >= 1) {\n      createGroupChat(groupName.trim(), selectedUsers)\n      handleClose()\n    }\n  }\n\n  const handleClose = () => {\n    setGroupName(\"\")\n    setSelectedUsers([])\n    onClose()\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-[var(--color-card)] rounded-2xl w-full max-w-md shadow-xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-[var(--color-border)]\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-full bg-[var(--color-primary)] flex items-center justify-center\">\n              <Users className=\"w-5 h-5 text-white\" />\n            </div>\n            <h2 className=\"text-lg font-semibold text-[var(--color-foreground)]\">New Group</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\"\n          >\n            <X className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-4\">\n          {/* Group Name Input */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Group Name</label>\n            <input\n              type=\"text\"\n              value={groupName}\n              onChange={(e) => setGroupName(e.target.value)}\n              placeholder=\"Enter group name...\"\n              className=\"w-full px-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n            />\n          </div>\n\n          {/* User Selection - Only Friends */}\n          <div>\n            <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">\n              Add Friends ({selectedUsers.length} selected)\n            </label>\n            <div className=\"max-h-60 overflow-y-auto custom-scrollbar border border-[var(--color-border)] rounded-lg\">\n              {friendUsers.length === 0 ? (\n                <div className=\"p-6 text-center text-[var(--color-muted)]\">\n                  <UserPlus className=\"w-10 h-10 mx-auto mb-2 opacity-50\" />\n                  <p className=\"font-medium\">No friends yet</p>\n                  <p className=\"text-sm mt-1\">Add friends from the Users tab first</p>\n                </div>\n              ) : (\n                friendUsers.map((user) => {\n                  const isSelected = selectedUsers.includes(user.id)\n\n                  return (\n                    <button\n                      key={user.id}\n                      onClick={() => handleToggleUser(user.id)}\n                      className={`w-full p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors ${\n                        isSelected ? \"bg-[var(--color-accent)]\" : \"\"\n                      }`}\n                    >\n                        <img\n                          src={user.avatar || \"/default-avatar.png\"}\n                          alt={user.name}\n                          className=\"w-10 h-10 rounded-full object-cover\"\n                        />\n                      <span className=\"flex-1 text-left font-medium text-[var(--color-foreground)]\">{user.name}</span>\n                      <div\n                        className={`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${\n                          isSelected\n                            ? \"bg-[var(--color-primary)] border-[var(--color-primary)]\"\n                            : \"border-[var(--color-border)]\"\n                        }`}\n                      >\n                        {isSelected && <Check className=\"w-4 h-4 text-white\" />}\n                      </div>\n                    </button>\n                  )\n                })\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex gap-3 p-4 border-t border-[var(--color-border)]\">\n          <button\n            onClick={handleClose}\n            className=\"flex-1 py-3 px-4 rounded-lg border border-[var(--color-border)] font-medium text-[var(--color-foreground)] hover:bg-[var(--color-secondary)] transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleCreate}\n            disabled={!groupName.trim() || selectedUsers.length < 1 || friendUsers.length === 0}\n            className=\"flex-1 py-3 px-4 rounded-lg bg-[var(--color-primary)] font-medium text-white hover:bg-[var(--color-primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Create Group\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2883, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/sidebar.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Sidebar Component\n *\n * Main navigation sidebar showing chat list, user profile,\n * and actions for creating new chats.\n */\n\nimport { useState } from \"react\"\nimport { Search, Plus, LogOut, Users, MessageSquare, UserPlus } from \"lucide-react\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useSocket } from \"@/context/socket-context\"\nimport { useFriend } from \"@/context/friend-context\"\nimport { formatDistanceToNow } from \"date-fns\"\nimport { UserList } from \"./user-list\"\nimport { FriendRequests } from \"./friend-requests\"\nimport { GroupCreationModal } from \"./group-creation-modal\"\n\ninterface SidebarProps {\n  onMobileClose?: () => void\n}\n\nexport function Sidebar({ onMobileClose }: SidebarProps) {\n  const { user, logout } = useAuth()\n  const { chats, selectedChat, selectChat, getChatName, getChatAvatar, getOtherParticipant } = useChat()\n  const { isConnected } = useSocket()\n  const { getIncomingRequests } = useFriend()\n\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [activeTab, setActiveTab] = useState<\"chats\" | \"users\" | \"requests\">(\"chats\")\n  const [showGroupModal, setShowGroupModal] = useState(false)\n\n  // Get incoming requests count for badge\n  const incomingRequestsCount = getIncomingRequests().length\n\n  // Filter chats based on search query\n  const filteredChats = chats.filter((chat) => getChatName(chat).toLowerCase().includes(searchQuery.toLowerCase()))\n\n  // Sort chats by last message timestamp\n  const sortedChats = [...filteredChats].sort((a, b) => {\n    const aTime = a.lastMessage?.timestamp || a.createdAt\n    const bTime = b.lastMessage?.timestamp || b.createdAt\n    return new Date(bTime).getTime() - new Date(aTime).getTime()\n  })\n\n  const handleChatSelect = (chatId: string) => {\n    selectChat(chatId)\n    onMobileClose?.()\n  }\n\n  return (\n    <div className=\"flex flex-col h-full bg-[var(--color-sidebar)] border-r border-[var(--color-border)]\">\n      {/* Header with gradient background */}\n      <div className=\"bg-gradient-to-r from-[#6366f1] to-[#ec4899] p-4 text-white shadow-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"relative\">\n              <img\n                src={user?.avatar || \"/default-avatar.png\"}\n                alt={user?.name}\n                className=\"w-12 h-12 rounded-full object-cover border-2 border-white shadow-md\"\n              />\n              <span\n                className={`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white ${\n                  isConnected ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                }`}\n              />\n            </div>\n            <div>\n              <h2 className=\"font-bold text-white\">{user?.name}</h2>\n              <p className=\"text-xs text-white/80\">{isConnected ? \"Online\" : \"Connecting...\"}</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setShowGroupModal(true)}\n              className=\"p-2 rounded-lg hover:bg-white/20 transition-all duration-200 active:scale-95\"\n              title=\"New Group\"\n            >\n              <Plus className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={logout}\n              className=\"p-2 rounded-lg hover:bg-white/20 transition-all duration-200 active:scale-95\"\n              title=\"Logout\"\n            >\n              <LogOut className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Search */}\n      <div className=\"p-4\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--color-muted)]\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search chats or users...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"modern-input w-full pl-10 pr-4 py-2.5 bg-[var(--color-input)] text-sm text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:border-[var(--color-primary)] focus:ring-2 focus:ring-opacity-20\"\n          />\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex border-b border-[var(--color-border)] gap-0 px-2\">\n        <button\n          onClick={() => setActiveTab(\"chats\")}\n          className={`flex-1 py-3 text-sm font-semibold flex items-center justify-center gap-2 transition-all duration-200 rounded-t-lg ${\n            activeTab === \"chats\"\n              ? \"text-white bg-gradient-to-r from-[#6366f1] to-[#ec4899]\"\n              : \"text-[var(--color-muted-foreground)] hover:text-[var(--color-foreground)] hover:bg-[var(--color-secondary)]\"\n          }`}\n        >\n          <MessageSquare className=\"w-4 h-4\" />\n          Chats\n        </button>\n        <button\n          onClick={() => setActiveTab(\"users\")}\n          className={`flex-1 py-3 text-sm font-semibold flex items-center justify-center gap-2 transition-all duration-200 rounded-t-lg ${\n            activeTab === \"users\"\n              ? \"text-white bg-gradient-to-r from-[#6366f1] to-[#ec4899]\"\n              : \"text-[var(--color-muted-foreground)] hover:text-[var(--color-foreground)] hover:bg-[var(--color-secondary)]\"\n          }`}\n        >\n          <Users className=\"w-4 h-4\" />\n          Users\n        </button>\n        <button\n          onClick={() => setActiveTab(\"requests\")}\n          className={`flex-1 py-3 text-sm font-semibold flex items-center justify-center gap-2 transition-all duration-200 rounded-t-lg relative ${\n            activeTab === \"requests\"\n              ? \"text-white bg-gradient-to-r from-[#6366f1] to-[#ec4899]\"\n              : \"text-[var(--color-muted-foreground)] hover:text-[var(--color-foreground)] hover:bg-[var(--color-secondary)]\"\n          }`}\n        >\n          <UserPlus className=\"w-4 h-4\" />\n          Requests\n          {incomingRequestsCount > 0 && (\n            <span className=\"absolute top-2 right-2 w-5 h-5 flex items-center justify-center text-xs font-bold text-white bg-red-500 rounded-full shadow-lg animate-pulse\">\n              {incomingRequestsCount}\n            </span>\n          )}\n        </button>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto custom-scrollbar\">\n        {activeTab === \"chats\" ? (\n          <div className=\"space-y-1 p-2\">\n            {sortedChats.length === 0 ? (\n              <div className=\"p-8 text-center text-[var(--color-muted)]\">\n                <MessageSquare className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p className=\"font-medium\">No chats yet</p>\n                <p className=\"text-sm mt-1\">Add friends to start chatting!</p>\n              </div>\n            ) : (\n              sortedChats.map((chat) => {\n                const otherUser = getOtherParticipant(chat)\n                const isSelected = selectedChat?.id === chat.id\n\n                return (\n                  <button\n                    key={chat.id}\n                    onClick={() => handleChatSelect(chat.id)}\n                    className={`w-full p-3 flex items-center gap-3 rounded-lg transition-all duration-200 group ${\n                      isSelected\n                        ? \"sidebar-item-active shadow-md\"\n                        : \"hover:bg-[var(--color-secondary)] hover:shadow-sm\"\n                    }`}\n                  >\n                    <div className=\"relative flex-shrink-0\">\n                      <img\n                        src={getChatAvatar(chat) || \"/default-avatar.png\"}\n                        alt={getChatName(chat)}\n                        className=\"w-12 h-12 rounded-lg object-cover shadow-sm group-hover:shadow-md transition-shadow\"\n                      />\n                      {chat.type === \"direct\" && otherUser && (\n                        <span\n                          className={`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white ${\n                            otherUser.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                          } shadow-md`}\n                        />\n                      )}\n                      {chat.type === \"group\" && (\n                        <span className=\"absolute -bottom-1 -right-1 w-5 h-5 rounded-lg bg-gradient-to-br from-[#6366f1] to-[#ec4899] flex items-center justify-center shadow-md\">\n                          <Users className=\"w-3 h-3 text-white\" />\n                        </span>\n                      )}\n                    </div>\n\n                    <div className=\"flex-1 min-w-0 text-left\">\n                      <div className=\"flex items-center justify-between\">\n                        <h3 className=\"font-semibold text-[var(--color-foreground)] truncate\">{getChatName(chat)}</h3>\n                        {chat.lastMessage && (\n                          <span className=\"text-xs text-[var(--color-muted)] ml-2 flex-shrink-0\">\n                            {formatDistanceToNow(new Date(chat.lastMessage.timestamp), {\n                              addSuffix: false,\n                            })}\n                          </span>\n                        )}\n                      </div>\n\n                      <div className=\"flex items-center justify-between mt-1\">\n                        <p className=\"text-sm text-[var(--color-muted-foreground)] truncate\">\n                          {chat.lastMessage?.content || \"No messages yet\"}\n                        </p>\n                        {chat.unreadCount > 0 && (\n                          <span className=\"ml-2 px-2.5 py-0.5 text-xs font-bold text-white bg-gradient-to-r from-[#6366f1] to-[#ec4899] rounded-full shadow-md flex-shrink-0\">\n                            {chat.unreadCount}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </button>\n                )\n              })\n            )}\n          </div>\n        ) : activeTab === \"users\" ? (\n          <UserList onMobileClose={onMobileClose} />\n        ) : (\n          <FriendRequests onMobileClose={onMobileClose} />\n        )}\n      </div>\n\n      {/* Group Creation Modal */}\n      <GroupCreationModal isOpen={showGroupModal} onClose={() => setShowGroupModal(false)} />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3357, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 3372, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 3431, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/ui/alert-dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'\n\nimport { cn } from '@/lib/utils'\nimport { buttonVariants } from '@/components/ui/button'\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn('text-lg font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: 'outline' }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,8OAAC,mLAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,8OAAC,sLAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;AAEA,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,8OAAC,qLAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,8OAAC,sLAA4B;QAC3B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,8OAAC,oLAA0B;QACzB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,0LAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,8OAAC,qLAA2B;QAC1B,WAAW,IAAA,kHAAE,EAAC,IAAA,6IAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,8OAAC,qLAA2B;QAC1B,WAAW,IAAA,kHAAE,EAAC,IAAA,6IAAc,EAAC;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 3600, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/chat-header.tsx"],"sourcesContent":["\"use client\"\nimport { ArrowLeft, Phone, Video, MoreVertical, Users, Trash2 } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { dummyUsers } from \"@/utils/dummy-users\"\nimport { useState } from \"react\"\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\"\n\ninterface ChatHeaderProps {\n  onBackClick?: () => void\n}\n\nexport function ChatHeader({ onBackClick }: ChatHeaderProps) {\n  const { selectedChat, getChatName, getChatAvatar, getOtherParticipant, typingUsers, deleteChat } = useChat()\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false)\n\n  if (!selectedChat) return null\n\n  const otherUser = getOtherParticipant(selectedChat)\n  const chatTypingUsers = typingUsers[selectedChat.id] || []\n  const isTyping = chatTypingUsers.length > 0\n\n  // Get participant names for group chats\n  const getParticipantNames = () => {\n    if (selectedChat.type !== \"group\") return \"\"\n\n    return selectedChat.participants.map((id) => dummyUsers.find((u) => u.id === id)?.name || \"Unknown\").join(\", \")\n  }\n\n  // Get typing indicator text\n  const getTypingText = () => {\n    if (!isTyping) return null\n\n    const typingNames = chatTypingUsers.map((id) => dummyUsers.find((u) => u.id === id)?.name || \"Someone\").join(\", \")\n\n    return `${typingNames} is typing...`\n  }\n\n  return (\n    <div className=\"header-gradient flex items-center justify-between px-4 py-4 text-white shadow-lg\">\n      <div className=\"flex items-center gap-3\">\n        {/* Back button for mobile */}\n        <button\n          onClick={onBackClick}\n          className=\"p-2 rounded-lg hover:bg-white/20 transition-all duration-200 md:hidden active:scale-95\"\n        >\n          <ArrowLeft className=\"w-5 h-5\" />\n        </button>\n\n        {/* Avatar */}\n        <div className=\"relative\">\n          <img\n            src={getChatAvatar(selectedChat) || \"/default-avatar.png\"}\n            alt={getChatName(selectedChat)}\n            className=\"w-12 h-12 rounded-lg object-cover border-2 border-white/30 shadow-md\"\n          />\n          {selectedChat.type === \"direct\" && otherUser && (\n            <span\n              className={`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white ${\n                otherUser.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n              } shadow-md`}\n            />\n          )}\n          {selectedChat.type === \"group\" && (\n            <span className=\"absolute -bottom-1 -right-1 w-5 h-5 rounded-lg bg-white/30 flex items-center justify-center backdrop-blur\">\n              <Users className=\"w-3 h-3 text-white\" />\n            </span>\n          )}\n        </div>\n\n        {/* Info */}\n        <div>\n          <h2 className=\"font-bold text-white\">{getChatName(selectedChat)}</h2>\n          <p className=\"text-sm text-white/80 flex items-center gap-1\">\n            {isTyping ? (\n              <span className=\"flex items-center gap-1\">\n                {getTypingText()}\n                <span className=\"flex gap-0.5 ml-1\">\n                  <span className=\"typing-dot w-1.5 h-1.5 rounded-full bg-white\" />\n                  <span className=\"typing-dot w-1.5 h-1.5 rounded-full bg-white\" />\n                  <span className=\"typing-dot w-1.5 h-1.5 rounded-full bg-white\" />\n                </span>\n              </span>\n            ) : selectedChat.type === \"direct\" ? (\n              otherUser?.status === \"online\" ? (\n                \"Online\"\n              ) : (\n                `Last seen ${otherUser?.lastSeen || \"recently\"}`\n              )\n            ) : (\n              <span className=\"truncate max-w-[200px]\">{getParticipantNames()}</span>\n            )}\n          </p>\n        </div>\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex items-center gap-2\">\n        <button className=\"p-2 rounded-lg hover:bg-white/20 transition-all duration-200 active:scale-95\" title=\"Video call\">\n          <Video className=\"w-5 h-5\" />\n        </button>\n        <button className=\"p-2 rounded-lg hover:bg-white/20 transition-all duration-200 active:scale-95\" title=\"Voice call\">\n          <Phone className=\"w-5 h-5\" />\n        </button>\n        <button\n          onClick={() => setShowDeleteDialog(true)}\n          className=\"p-2 rounded-lg hover:bg-red-500/30 transition-all duration-200 active:scale-95\"\n          title=\"Delete chat\"\n        >\n          <Trash2 className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      {/* Delete confirmation dialog */}\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Chat</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete this chat with <strong>{getChatName(selectedChat)}</strong>? This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <div className=\"flex justify-end gap-3\">\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={() => {\n                deleteChat(selectedChat.id)\n                setShowDeleteDialog(false)\n              }}\n              className=\"bg-red-600 hover:bg-red-700\"\n            >\n              Delete\n            </AlertDialogAction>\n          </div>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3917, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/message-reactions.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useChat } from \"@/context/chat-context\"\r\n\r\ninterface MessageReactionsProps {\r\n    messageId: string\r\n    reactions: { emoji: string; userIds: string[] }[]\r\n}\r\n\r\nexport function MessageReactions({ messageId, reactions }: MessageReactionsProps) {\r\n    const { addReaction, removeReaction } = useChat()\r\n    const currentUserId = typeof window !== 'undefined' ? JSON.parse(localStorage.getItem('quickchat_user') || '{}').id : null\r\n\r\n    if (!reactions || reactions.length === 0) return null\r\n\r\n    return (\r\n        <div className=\"flex flex-wrap gap-1 mt-1 px-2\">\r\n            {reactions.map((reaction, index) => {\r\n                const isSelected = reaction.userIds.includes(currentUserId)\r\n                return (\r\n                    <button\r\n                        key={index}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            if (isSelected) {\r\n                                removeReaction(messageId, reaction.emoji)\r\n                            } else {\r\n                                addReaction(messageId, reaction.emoji)\r\n                            }\r\n                        }}\r\n                        className={`group relative flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs transition-all duration-200 ${isSelected\r\n                                ? \"bg-[var(--color-primary)] text-white shadow-sm scale-105\"\r\n                                : \"bg-[var(--color-secondary)] text-[var(--color-foreground)] hover:bg-[var(--color-border)]\"\r\n                            }`}\r\n                    >\r\n                        <span>{reaction.emoji}</span>\r\n                        {reaction.userIds.length > 1 && (\r\n                            <span className=\"font-medium\">{reaction.userIds.length}</span>\r\n                        )}\r\n\r\n                        {/* Tooltip on hover */}\r\n                        <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-black/80 text-white rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\">\r\n                            {isSelected ? \"You and \" : \"\"}{reaction.userIds.length - (isSelected ? 1 : 0)} others reacted\r\n                        </div>\r\n                    </button>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,SAAS,iBAAiB,EAAE,SAAS,EAAE,SAAS,EAAyB;IAC5E,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,IAAA,sIAAO;IAC/C,MAAM,gBAAgB,sCAAgC,0BAAgE;IAEtH,IAAI,CAAC,aAAa,UAAU,MAAM,KAAK,GAAG,OAAO;IAEjD,qBACI,8OAAC;QAAI,WAAU;kBACV,UAAU,GAAG,CAAC,CAAC,UAAU;YACtB,MAAM,aAAa,SAAS,OAAO,CAAC,QAAQ,CAAC;YAC7C,qBACI,8OAAC;gBAEG,SAAS,CAAC;oBACN,EAAE,eAAe;oBACjB,IAAI,YAAY;wBACZ,eAAe,WAAW,SAAS,KAAK;oBAC5C,OAAO;wBACH,YAAY,WAAW,SAAS,KAAK;oBACzC;gBACJ;gBACA,WAAW,CAAC,sGAAsG,EAAE,aAC1G,6DACA,6FACJ;;kCAEN,8OAAC;kCAAM,SAAS,KAAK;;;;;;oBACpB,SAAS,OAAO,CAAC,MAAM,GAAG,mBACvB,8OAAC;wBAAK,WAAU;kCAAe,SAAS,OAAO,CAAC,MAAM;;;;;;kCAI1D,8OAAC;wBAAI,WAAU;;4BACV,aAAa,aAAa;4BAAI,SAAS,OAAO,CAAC,MAAM,GAAG,CAAC,aAAa,IAAI,CAAC;4BAAE;;;;;;;;eArB7E;;;;;QAyBjB;;;;;;AAGZ"}},
    {"offset": {"line": 3989, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/emoji-picker.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Search, Smile, Heart, ThumbsUp, Laugh, Frown, MessageCircle } from \"lucide-react\"\r\n\r\ninterface EmojiPickerProps {\r\n    onEmojiSelect: (emoji: string) => void\r\n    onClose: () => void\r\n}\r\n\r\nconst POPULAR_EMOJIS = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\r\n\r\nconst EMOJI_CATEGORIES = [\r\n    {\r\n        name: \"Smileys & Emotion\",\r\n        emojis: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\r\n    },\r\n    {\r\n        name: \"Hands & People\",\r\n        emojis: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\r\n    },\r\n    {\r\n        name: \"Animals & Nature\",\r\n        emojis: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\r\n    }\r\n]\r\n\r\nexport function EmojiPicker({ onEmojiSelect, onClose }: EmojiPickerProps) {\r\n    const [search, setSearch] = useState(\"\")\r\n    const [filteredEmojis, setFilteredEmojis] = useState<string[]>([])\r\n\r\n    useEffect(() => {\r\n        if (search.trim()) {\r\n            const allEmojis = EMOJI_CATEGORIES.flatMap(cat => cat.emojis)\r\n            // This is a naive search, ideally we'd have labels for each emoji\r\n            // For now, it just shows all if there's any search text\r\n            setFilteredEmojis(allEmojis.slice(0, 50))\r\n        } else {\r\n            setFilteredEmojis([])\r\n        }\r\n    }, [search])\r\n\r\n    return (\r\n        <div className=\"absolute bottom-full mb-2 right-0 w-72 bg-[var(--color-card)] border border-[var(--color-border)] rounded-xl shadow-2xl overflow-hidden z-50 animate-in fade-in slide-in-from-bottom-2 duration-200\">\r\n            <div className=\"p-3 border-b border-[var(--color-border)]\">\r\n                <div className=\"relative\">\r\n                    <Search className=\"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--color-muted-foreground)]\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search emojis...\"\r\n                        value={search}\r\n                        onChange={(e) => setSearch(e.target.value)}\r\n                        className=\"w-full pl-9 pr-3 py-1.5 bg-[var(--color-secondary)] border-none rounded-lg text-sm focus:ring-1 focus:ring-[var(--color-primary)]\"\r\n                        autoFocus\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-h-60 overflow-y-auto custom-scrollbar p-2\">\r\n                {search ? (\r\n                    <div className=\"grid grid-cols-8 gap-1\">\r\n                        {filteredEmojis.map((emoji, i) => (\r\n                            <button\r\n                                key={i}\r\n                                onClick={() => {\r\n                                    onEmojiSelect(emoji)\r\n                                    onClose()\r\n                                }}\r\n                                className=\"w-8 h-8 flex items-center justify-center text-xl hover:bg-[var(--color-secondary)] rounded-md transition-colors\"\r\n                            >\r\n                                {emoji}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        <div className=\"mb-4\">\r\n                            <p className=\"text-[10px] font-bold text-[var(--color-muted-foreground)] uppercase tracking-wider mb-2 px-1\">Popular</p>\r\n                            <div className=\"grid grid-cols-8 gap-1\">\r\n                                {POPULAR_EMOJIS.map((emoji, i) => (\r\n                                    <button\r\n                                        key={i}\r\n                                        onClick={() => {\r\n                                            onEmojiSelect(emoji)\r\n                                            onClose()\r\n                                        }}\r\n                                        className=\"w-8 h-8 flex items-center justify-center text-xl hover:bg-[var(--color-secondary)] rounded-md transition-colors\"\r\n                                    >\r\n                                        {emoji}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {EMOJI_CATEGORIES.map((cat, i) => (\r\n                            <div key={i} className=\"mb-4\">\r\n                                <p className=\"text-[10px] font-bold text-[var(--color-muted-foreground)] uppercase tracking-wider mb-2 px-1\">{cat.name}</p>\r\n                                <div className=\"grid grid-cols-8 gap-1\">\r\n                                    {cat.emojis.map((emoji, j) => (\r\n                                        <button\r\n                                            key={j}\r\n                                            onClick={() => {\r\n                                                onEmojiSelect(emoji)\r\n                                                onClose()\r\n                                            }}\r\n                                            className=\"w-8 h-8 flex items-center justify-center text-xl hover:bg-[var(--color-secondary)] rounded-md transition-colors\"\r\n                                        >\r\n                                            {emoji}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4522, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/message-context-menu.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Edit2, Trash2, Pin, ArrowRight, Copy, Smile } from \"lucide-react\"\r\nimport { useChat } from \"@/context/chat-context\"\r\nimport { useState } from \"react\"\r\nimport { EmojiPicker } from \"./emoji-picker\"\r\n\r\ninterface MessageContextMenuProps {\r\n    messageId: string\r\n    isOwnMessage: boolean\r\n    isPinned: boolean\r\n    onClose: () => void\r\n    onEdit: () => void\r\n    onForward: () => void\r\n    position: { x: number; y: number }\r\n}\r\n\r\nexport function MessageContextMenu({\r\n    messageId,\r\n    isOwnMessage,\r\n    isPinned,\r\n    onClose,\r\n    onEdit,\r\n    onForward,\r\n    position\r\n}) {\r\n    const { togglePin, deleteMessage, addReaction } = useChat()\r\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false)\r\n\r\n    const handleCopy = () => {\r\n        // We'd need the content here, but for simplicity let's assume we copy the ID or it's handled by the parent\r\n        // In a real app we'd pass the content\r\n        onClose()\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        if (confirm(\"Are you sure you want to delete this message?\")) {\r\n            deleteMessage(messageId)\r\n        }\r\n        onClose()\r\n    }\r\n\r\n    const handleTogglePin = () => {\r\n        togglePin(messageId)\r\n        onClose()\r\n    }\r\n\r\n    const handleEdit = () => {\r\n        onEdit()\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* Overlay to close menu */}\r\n            <div\r\n                className=\"fixed inset-0 z-40\"\r\n                onClick={onClose}\r\n                onContextMenu={(e) => { e.preventDefault(); onClose(); }}\r\n            />\r\n\r\n            <div\r\n                className=\"fixed z-50 w-56 bg-[var(--color-card)] border border-[var(--color-border)] rounded-xl shadow-2xl py-1.5 animate-in zoom-in-95 duration-100\"\r\n                style={{ left: Math.min(position.x, window.innerWidth - 230), top: Math.min(position.y, window.innerHeight - 300) }}\r\n            >\r\n                {/* Quick Reactions */}\r\n                <div className=\"flex items-center justify-between px-3 py-2 border-b border-[var(--color-border)] mb-1\">\r\n                    {[\"\", \"\", \"\", \"\", \"\", \"\"].map((emoji) => (\r\n                        <button\r\n                            key={emoji}\r\n                            onClick={() => {\r\n                                addReaction(messageId, emoji)\r\n                                onClose()\r\n                            }}\r\n                            className=\"text-lg hover:scale-125 transition-transform p-1 rounded-md hover:bg-[var(--color-secondary)]\"\r\n                        >\r\n                            {emoji}\r\n                        </button>\r\n                    ))}\r\n                    <button\r\n                        onClick={() => setShowEmojiPicker(!showEmojiPicker)}\r\n                        className=\"p-1 rounded-md hover:bg-[var(--color-secondary)] text-[var(--color-muted-foreground)]\"\r\n                    >\r\n                        <Smile className=\"w-4 h-4\" />\r\n                    </button>\r\n\r\n                    {showEmojiPicker && (\r\n                        <div className=\"absolute right-0 top-0 mt-10\">\r\n                            <EmojiPicker\r\n                                onEmojiSelect={(emoji) => {\r\n                                    addReaction(messageId, emoji)\r\n                                    onClose()\r\n                                }}\r\n                                onClose={() => setShowEmojiPicker(false)}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleTogglePin}\r\n                    className=\"w-full flex items-center gap-3 px-3 py-2 text-sm text-[var(--color-foreground)] hover:bg-[var(--color-secondary)] transition-colors\"\r\n                >\r\n                    <Pin className={`w-4 h-4 ${isPinned ? \"fill-[var(--color-primary)] text-[var(--color-primary)]\" : \"\"}`} />\r\n                    <span>{isPinned ? \"Unpin Message\" : \"Pin Message\"}</span>\r\n                </button>\r\n\r\n                <button\r\n                    onClick={onForward}\r\n                    className=\"w-full flex items-center gap-3 px-3 py-2 text-sm text-[var(--color-foreground)] hover:bg-[var(--color-secondary)] transition-colors\"\r\n                >\r\n                    <ArrowRight className=\"w-4 h-4\" />\r\n                    <span>Forward Message</span>\r\n                </button>\r\n\r\n                <button\r\n                    onClick={handleCopy}\r\n                    className=\"w-full flex items-center gap-3 px-3 py-2 text-sm text-[var(--color-foreground)] hover:bg-[var(--color-secondary)] transition-colors\"\r\n                >\r\n                    <Copy className=\"w-4 h-4\" />\r\n                    <span>Copy Message</span>\r\n                </button>\r\n\r\n                {isOwnMessage && (\r\n                    <>\r\n                        <div className=\"h-px bg-[var(--color-border)] my-1\" />\r\n                        <button\r\n                            onClick={handleEdit}\r\n                            className=\"w-full flex items-center gap-3 px-3 py-2 text-sm text-[var(--color-foreground)] hover:bg-[var(--color-secondary)] transition-colors\"\r\n                        >\r\n                            <Edit2 className=\"w-4 h-4\" />\r\n                            <span>Edit Message</span>\r\n                        </button>\r\n                        <button\r\n                            onClick={handleDelete}\r\n                            className=\"w-full flex items-center gap-3 px-3 py-2 text-sm text-red-500 hover:bg-red-50 transition-colors\"\r\n                        >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                            <span>Delete Message</span>\r\n                        </button>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAiBO,SAAS,mBAAmB,EAC/B,SAAS,EACT,YAAY,EACZ,QAAQ,EACR,OAAO,EACP,MAAM,EACN,SAAS,EACT,QAAQ,EACX;IACG,MAAM,EAAE,SAAS,EAAE,aAAa,EAAE,WAAW,EAAE,GAAG,IAAA,sIAAO;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,MAAM,aAAa;QACf,2GAA2G;QAC3G,sCAAsC;QACtC;IACJ;IAEA,MAAM,eAAe;QACjB,IAAI,QAAQ,kDAAkD;YAC1D,cAAc;QAClB;QACA;IACJ;IAEA,MAAM,kBAAkB;QACpB,UAAU;QACV;IACJ;IAEA,MAAM,aAAa;QACf;QACA;IACJ;IAEA,qBACI;;0BAEI,8OAAC;gBACG,WAAU;gBACV,SAAS;gBACT,eAAe,CAAC;oBAAQ,EAAE,cAAc;oBAAI;gBAAW;;;;;;0BAG3D,8OAAC;gBACG,WAAU;gBACV,OAAO;oBAAE,MAAM,KAAK,GAAG,CAAC,SAAS,CAAC,EAAE,OAAO,UAAU,GAAG;oBAAM,KAAK,KAAK,GAAG,CAAC,SAAS,CAAC,EAAE,OAAO,WAAW,GAAG;gBAAK;;kCAGlH,8OAAC;wBAAI,WAAU;;4BACV;gCAAC;gCAAM;gCAAM;gCAAM;gCAAM;gCAAM;6BAAK,CAAC,GAAG,CAAC,CAAC,sBACvC,8OAAC;oCAEG,SAAS;wCACL,YAAY,WAAW;wCACvB;oCACJ;oCACA,WAAU;8CAET;mCAPI;;;;;0CAUb,8OAAC;gCACG,SAAS,IAAM,mBAAmB,CAAC;gCACnC,WAAU;0CAEV,cAAA,8OAAC,6MAAK;oCAAC,WAAU;;;;;;;;;;;4BAGpB,iCACG,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,6IAAW;oCACR,eAAe,CAAC;wCACZ,YAAY,WAAW;wCACvB;oCACJ;oCACA,SAAS,IAAM,mBAAmB;;;;;;;;;;;;;;;;;kCAMlD,8OAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,8OAAC,uMAAG;gCAAC,WAAW,CAAC,QAAQ,EAAE,WAAW,4DAA4D,IAAI;;;;;;0CACtG,8OAAC;0CAAM,WAAW,kBAAkB;;;;;;;;;;;;kCAGxC,8OAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,8OAAC,gOAAU;gCAAC,WAAU;;;;;;0CACtB,8OAAC;0CAAK;;;;;;;;;;;;kCAGV,8OAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;;;;;;;oBAGT,8BACG;;0CACI,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCACG,SAAS;gCACT,WAAU;;kDAEV,8OAAC,2MAAK;wCAAC,WAAU;;;;;;kDACjB,8OAAC;kDAAK;;;;;;;;;;;;0CAEV,8OAAC;gCACG,SAAS;gCACT,WAAU;;kDAEV,8OAAC,oNAAM;wCAAC,WAAU;;;;;;kDAClB,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;AAOlC"}},
    {"offset": {"line": 4790, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/pinned-messages.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Pin, X, ChevronRight, ChevronLeft } from \"lucide-react\"\r\nimport { useChat } from \"@/context/chat-context\"\r\nimport { useState } from \"react\"\r\nimport type { Message } from \"@/utils/dummy-chats\"\r\n\r\ninterface PinnedMessagesProps {\r\n    chatId: string\r\n}\r\n\r\nexport function PinnedMessages({ chatId }: PinnedMessagesProps) {\r\n    const { getPinnedMessages, togglePin } = useChat()\r\n    const pinnedMessages = getPinnedMessages(chatId)\r\n    const [currentIndex, setCurrentIndex] = useState(0)\r\n\r\n    if (pinnedMessages.length === 0) return null\r\n\r\n    const currentMsg = pinnedMessages[currentIndex]\r\n\r\n    const handleNext = () => {\r\n        setCurrentIndex((prev) => (prev + 1) % pinnedMessages.length)\r\n    }\r\n\r\n    const handlePrev = () => {\r\n        setCurrentIndex((prev) => (prev - 1 + pinnedMessages.length) % pinnedMessages.length)\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-[var(--color-card)]/80 backdrop-blur-md border-b border-[var(--color-border)] px-4 py-2 flex items-center gap-3 animate-in slide-in-from-top duration-300 z-30 sticky top-0\">\r\n            <div className=\"flex-shrink-0 w-8 h-8 rounded-lg bg-[var(--color-primary)]/10 flex items-center justify-center\">\r\n                <Pin className=\"w-4 h-4 text-[var(--color-primary)]\" />\r\n            </div>\r\n\r\n            <div className=\"flex-1 min-w-0 pr-2 border-l-2 border-[var(--color-primary)] pl-3\">\r\n                <div className=\"flex items-center justify-between gap-2\">\r\n                    <p className=\"text-[10px] font-bold text-[var(--color-primary)] uppercase tracking-wider\">\r\n                        Pinned Message {pinnedMessages.length > 1 && `(${currentIndex + 1}/${pinnedMessages.length})`}\r\n                    </p>\r\n                </div>\r\n                <p className=\"text-sm text-[var(--color-foreground)] truncate\">\r\n                    {currentMsg.isVoiceMessage ? \"Voice Message\" : currentMsg.content}\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-1\">\r\n                {pinnedMessages.length > 1 && (\r\n                    <>\r\n                        <button onClick={handlePrev} className=\"p-1 hover:bg-[var(--color-secondary)] rounded-md transition-colors\">\r\n                            <ChevronLeft className=\"w-4 h-4\" />\r\n                        </button>\r\n                        <button onClick={handleNext} className=\"p-1 hover:bg-[var(--color-secondary)] rounded-md transition-colors\">\r\n                            <ChevronRight className=\"w-4 h-4\" />\r\n                        </button>\r\n                    </>\r\n                )}\r\n                <button\r\n                    onClick={() => togglePin(currentMsg.id)}\r\n                    className=\"p-1 hover:bg-[var(--color-secondary)] rounded-md transition-colors ml-1 text-[var(--color-muted-foreground)]\"\r\n                    title=\"Unpin\"\r\n                >\r\n                    <X className=\"w-4 h-4\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AAWO,SAAS,eAAe,EAAE,MAAM,EAAuB;IAC1D,MAAM,EAAE,iBAAiB,EAAE,SAAS,EAAE,GAAG,IAAA,sIAAO;IAChD,MAAM,iBAAiB,kBAAkB;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAI,eAAe,MAAM,KAAK,GAAG,OAAO;IAExC,MAAM,aAAa,cAAc,CAAC,aAAa;IAE/C,MAAM,aAAa;QACf,gBAAgB,CAAC,OAAS,CAAC,OAAO,CAAC,IAAI,eAAe,MAAM;IAChE;IAEA,MAAM,aAAa;QACf,gBAAgB,CAAC,OAAS,CAAC,OAAO,IAAI,eAAe,MAAM,IAAI,eAAe,MAAM;IACxF;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uMAAG;oBAAC,WAAU;;;;;;;;;;;0BAGnB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAE,WAAU;;gCAA6E;gCACtE,eAAe,MAAM,GAAG,KAAK,CAAC,CAAC,EAAE,eAAe,EAAE,CAAC,EAAE,eAAe,MAAM,CAAC,CAAC,CAAC;;;;;;;;;;;;kCAGrG,8OAAC;wBAAE,WAAU;kCACR,WAAW,cAAc,GAAG,kBAAkB,WAAW,OAAO;;;;;;;;;;;;0BAIzE,8OAAC;gBAAI,WAAU;;oBACV,eAAe,MAAM,GAAG,mBACrB;;0CACI,8OAAC;gCAAO,SAAS;gCAAY,WAAU;0CACnC,cAAA,8OAAC,mOAAW;oCAAC,WAAU;;;;;;;;;;;0CAE3B,8OAAC;gCAAO,SAAS;gCAAY,WAAU;0CACnC,cAAA,8OAAC,sOAAY;oCAAC,WAAU;;;;;;;;;;;;;kCAIpC,8OAAC;wBACG,SAAS,IAAM,UAAU,WAAW,EAAE;wBACtC,WAAU;wBACV,OAAM;kCAEN,cAAA,8OAAC,iMAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKjC"}},
    {"offset": {"line": 4940, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/message-list.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Message List Component\n *\n * Displays messages in a chat with proper styling for sent/received messages.\n * Features auto-scroll and message status indicators.\n */\n\nimport { useEffect, useRef, useState } from \"react\"\nimport { Check, CheckCheck, Pin, Share2 } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { dummyUsers } from \"@/utils/dummy-users\"\nimport { format, isToday, isYesterday } from \"date-fns\"\nimport { MessageReactions } from \"./message-reactions\"\nimport { MessageContextMenu } from \"./message-context-menu\"\nimport { PinnedMessages } from \"./pinned-messages\"\n\nexport function MessageList() {\n  const { selectedChat, messages, editMessage } = useChat()\n  const { user } = useAuth()\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const [contextMenu, setContextMenu] = useState<{\n    show: boolean\n    x: number\n    y: number\n    messageId: string\n    isOwn: boolean\n    isPinned: boolean\n  }>({ show: false, x: 0, y: 0, messageId: \"\", isOwn: false, isPinned: false })\n  const [editingMessageId, setEditingMessageId] = useState<string | null>(null)\n  const [editContent, setEditContent] = useState(\"\")\n\n  // Filter messages for selected chat\n  const chatMessages = messages.filter((msg) => msg.chatId === selectedChat?.id)\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n  }, [chatMessages.length])\n\n  // Format timestamp\n  const formatTime = (date: Date) => {\n    return format(new Date(date), \"HH:mm\")\n  }\n\n  // Format date separator\n  const formatDateSeparator = (date: Date) => {\n    const d = new Date(date)\n    if (isToday(d)) return \"Today\"\n    if (isYesterday(d)) return \"Yesterday\"\n    return format(d, \"MMMM d, yyyy\")\n  }\n\n  // Group messages by date\n  const groupedMessages: { date: string; messages: typeof chatMessages }[] = []\n  let currentDate = \"\"\n\n  chatMessages.forEach((msg) => {\n    const msgDate = formatDateSeparator(msg.timestamp)\n    if (msgDate !== currentDate) {\n      currentDate = msgDate\n      groupedMessages.push({ date: msgDate, messages: [msg] })\n    } else {\n      groupedMessages[groupedMessages.length - 1].messages.push(msg)\n    }\n  })\n\n  // Get message status icon\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"sent\":\n        return <Check className=\"w-4 h-4 text-[var(--color-muted)]\" />\n      case \"delivered\":\n        return <CheckCheck className=\"w-4 h-4 text-[var(--color-muted)]\" />\n      case \"read\":\n        return <CheckCheck className=\"w-4 h-4 text-blue-500\" />\n      default:\n        return null\n    }\n  }\n\n  if (!selectedChat) return null\n\n  return (\n    <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 chat-background\">\n      {chatMessages.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center h-full text-center\">\n          <div className=\"w-20 h-20 rounded-full bg-[var(--color-primary)]/10 flex items-center justify-center mb-4\">\n            <svg\n              className=\"w-10 h-10 text-[var(--color-primary)]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n              />\n            </svg>\n          </div>\n          <h3 className=\"font-semibold text-[var(--color-foreground)] mb-1\">No messages yet</h3>\n          <p className=\"text-sm text-[var(--color-muted)]\">Send a message to start the conversation!</p>\n        </div>\n      ) : (\n        <>\n          {groupedMessages.map((group, groupIndex) => (\n            <div key={groupIndex}>\n              {/* Date separator */}\n              <div className=\"flex items-center justify-center my-4\">\n                <span className=\"px-3 py-1 text-xs font-medium text-[var(--color-muted-foreground)] bg-[var(--color-card)] rounded-lg shadow-sm\">\n                  {group.date}\n                </span>\n              </div>\n\n              {/* Messages */}\n              {group.messages.map((message, msgIndex) => {\n                const isSent = message.senderId === user?.id\n                const sender = dummyUsers.find((u) => u.id === message.senderId)\n                const showSenderName =\n                  selectedChat.type === \"group\" &&\n                  !isSent &&\n                  (msgIndex === 0 || group.messages[msgIndex - 1].senderId !== message.senderId)\n\n                return (\n                  <div key={message.id} className={`flex flex-col mb-4 ${isSent ? \"items-end\" : \"items-start\"} animate-fade-in-up`}>\n                    <div\n                      onContextMenu={(e) => {\n                        e.preventDefault()\n                        setContextMenu({\n                          show: true,\n                          x: e.clientX,\n                          y: e.clientY,\n                          messageId: message.id,\n                          isOwn: isSent,\n                          isPinned: !!message.isPinned\n                        })\n                      }}\n                      className={`message-bubble group relative transition-all duration-200 hover:shadow-md ${isSent ? \"sent\" : \"received\"} max-w-[75%] px-4 py-2.5 ${isSent ? \"rounded-[20px_20px_4px_20px] text-white\" : \"rounded-[20px_20px_20px_4px]\"\n                        } ${message.isPinned ? \"border-2 border-[var(--color-primary)]/30 ring-2 ring-[var(--color-primary)]/10\" : \"\"}`}\n                    >\n                      {/* Pinned Indicator */}\n                      {message.isPinned && (\n                        <div className=\"absolute -top-2 -right-2 bg-[var(--color-primary)] text-white p-1 rounded-full shadow-sm\">\n                          <Pin className=\"w-3 h-3\" />\n                        </div>\n                      )}\n\n                      {/* Forwarded Indicator */}\n                      {message.forwarded && (\n                        <div className=\"flex items-center gap-1 mb-1 opacity-70\">\n                          <Share2 className=\"w-3 h-3 italic\" />\n                          <span className=\"text-[10px] italic\">Forwarded</span>\n                        </div>\n                      )}\n\n                      {/* Sender name for group chats */}\n                      {showSenderName && (\n                        <p className=\"text-xs font-bold text-[#a78bfa] mb-1\">\n                          {sender?.name || \"Unknown\"}\n                        </p>\n                      )}\n\n                      {/* Message content */}\n                      {editingMessageId === message.id ? (\n                        <div className=\"flex flex-col gap-2 min-w-[200px]\">\n                          <textarea\n                            value={editContent}\n                            onChange={(e) => setEditContent(e.target.value)}\n                            className=\"bg-black/10 text-inherit text-sm p-2 rounded-lg border border-white/20 focus:outline-none min-h-[60px] resize-none\"\n                            autoFocus\n                          />\n                          <div className=\"flex justify-end gap-2\">\n                            <button\n                              onClick={() => setEditingMessageId(null)}\n                              className=\"px-2 py-1 text-[10px] bg-white/10 hover:bg-white/20 rounded-md transition-colors\"\n                            >\n                              Cancel\n                            </button>\n                            <button\n                              onClick={() => {\n                                editMessage(message.id, editContent)\n                                setEditingMessageId(null)\n                              }}\n                              className=\"px-2 py-1 text-[10px] bg-white text-[var(--color-primary)] font-bold rounded-md transition-colors\"\n                            >\n                              Save\n                            </button>\n                          </div>\n                        </div>\n                      ) : (\n                        <p className={`text-sm leading-relaxed break-words ${isSent ? \"text-white\" : \"text-[var(--color-foreground)]\"}`}>\n                          {message.content}\n                          {message.editedAt && (\n                            <span className=\"ml-1 text-[10px] opacity-50 font-normal\">(edited)</span>\n                          )}\n                        </p>\n                      )}\n\n                      {/* Timestamp and status */}\n                      <div className={`flex items-center gap-1 mt-1.5 ${isSent ? \"justify-end\" : \"justify-start\"}`}>\n                        <span className={`text-[11px] font-medium ${isSent ? \"text-white/70\" : \"text-[var(--color-muted)]\"}`}>\n                          {formatTime(message.timestamp)}\n                        </span>\n                        {isSent && getStatusIcon(message.status)}\n                      </div>\n                    </div>\n\n                    {/* Reactions below bubble */}\n                    {message.reactions && message.reactions.length > 0 && (\n                      <MessageReactions messageId={message.id} reactions={message.reactions} />\n                    )}\n                  </div>\n                )\n              })}\n            </div>\n          ))}\n          <div ref={messagesEndRef} />\n\n          {/* Pinned Messages Banner */}\n          <div className=\"sticky top-0 z-20 -mx-4 -mt-4 mb-4\">\n            <PinnedMessages chatId={selectedChat.id} />\n          </div>\n\n          {/* Context Menu */}\n          {contextMenu.show && (\n            <MessageContextMenu\n              messageId={contextMenu.messageId}\n              isOwnMessage={contextMenu.isOwn}\n              isPinned={contextMenu.isPinned}\n              position={{ x: contextMenu.x, y: contextMenu.y }}\n              onClose={() => setContextMenu({ ...contextMenu, show: false })}\n              onEdit={() => {\n                const msg = messages.find(m => m.id === contextMenu.messageId)\n                if (msg) {\n                  setEditingMessageId(msg.id)\n                  setEditContent(msg.content)\n                }\n              }}\n              onForward={() => {\n                // To be implemented: open a modal to select a chat\n                alert(\"Forwarding logic would open a chat selector here\")\n              }}\n            />\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5370, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/message-input.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Message Input Component\n *\n * Input field for composing and sending messages.\n * Features typing indicator integration and emoji support placeholder.\n */\n\nimport type React from \"react\"\nimport { useState, useRef, useEffect } from \"react\"\nimport { Send, Smile, Paperclip, Mic } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useSocket } from \"@/context/socket-context\"\nimport { EmojiPicker } from \"./emoji-picker\"\nimport { VoiceRecorder } from \"./voice-recorder\"\n\nexport function MessageInput() {\n  const { selectedChat, sendMessage, setTyping } = useChat()\n  const { emit } = useSocket()\n\n  const [message, setMessage] = useState(\"\")\n  const [isTyping, setIsTyping] = useState(false)\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false)\n  const [showVoiceRecorder, setShowVoiceRecorder] = useState(false)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  // Focus input when chat changes or when closing emoji picker/voice recorder\n  useEffect(() => {\n    if (!showEmojiPicker && !showVoiceRecorder) {\n      inputRef.current?.focus()\n    }\n  }, [selectedChat?.id, showEmojiPicker, showVoiceRecorder])\n\n  // Handle typing indicator\n  useEffect(() => {\n    if (!selectedChat) return\n\n    if (message && !isTyping) {\n      setIsTyping(true)\n      setTyping(selectedChat.id, true)\n      emit(\"typing:start\", { chatId: selectedChat.id })\n    }\n\n    // Clear previous timeout\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current)\n    }\n\n    // Set new timeout to stop typing indicator\n    typingTimeoutRef.current = setTimeout(() => {\n      if (isTyping) {\n        setIsTyping(false)\n        setTyping(selectedChat.id, false)\n        emit(\"typing:stop\", { chatId: selectedChat.id })\n      }\n    }, 2000)\n\n    return () => {\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current)\n      }\n    }\n  }, [message, selectedChat, isTyping, setTyping, emit])\n\n  const handleSend = () => {\n    if (!message.trim() || !selectedChat) return\n\n    sendMessage(message)\n    setMessage(\"\")\n    setIsTyping(false)\n    setTyping(selectedChat.id, false)\n    emit(\"typing:stop\", { chatId: selectedChat.id })\n\n    inputRef.current?.focus()\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  if (!selectedChat) return null\n\n  return (\n    <div className=\"p-4 bg-[var(--color-card)] border-t border-[var(--color-border)]\">\n      <div className=\"flex items-center gap-3\">\n        {/* Emoji button */}\n        <button className=\"p-2.5 rounded-lg hover:bg-[var(--color-secondary)] transition-all duration-200 active:scale-95\" title=\"Emoji\">\n          <Smile className=\"w-5 h-5 text-[var(--color-primary)]\" />\n        </button>\n\n        {/* Attachment button */}\n        <button className=\"p-2.5 rounded-lg hover:bg-[var(--color-secondary)] transition-all duration-200 active:scale-95\" title=\"Attach file\">\n          <Paperclip className=\"w-5 h-5 text-[var(--color-primary)]\" />\n        </button>\n\n        {/* Input field */}\n        <div className=\"flex-1\">\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Type a message...\"\n            className=\"modern-input w-full px-4 py-3 bg-[var(--color-input)] text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:ring-2 focus:ring-opacity-20\"\n          />\n        </div>\n\n        {/* Send/Voice button */}\n        {message.trim() ? (\n          <button\n            onClick={handleSend}\n            className=\"p-3 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#ec4899] hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-200\"\n          >\n            <Send className=\"w-5 h-5 text-white\" />\n          </button>\n        ) : (\n          <button className=\"p-3 rounded-lg hover:bg-[var(--color-secondary)] transition-all duration-200 active:scale-95\" title=\"Voice message\">\n            <Mic className=\"w-5 h-5 text-[var(--color-primary)]\" />\n          </button>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAUA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAbA;;;;;;AAiBO,SAAS;IACd,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG,IAAA,sIAAO;IACxD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,0IAAS;IAE1B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,WAAW,IAAA,+MAAM,EAAmB;IAC1C,MAAM,mBAAmB,IAAA,+MAAM,EAAwB;IAEvD,4EAA4E;IAC5E,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,mBAAmB,CAAC,mBAAmB;YAC1C,SAAS,OAAO,EAAE;QACpB;IACF,GAAG;QAAC,cAAc;QAAI;QAAiB;KAAkB;IAEzD,0BAA0B;IAC1B,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,cAAc;QAEnB,IAAI,WAAW,CAAC,UAAU;YACxB,YAAY;YACZ,UAAU,aAAa,EAAE,EAAE;YAC3B,KAAK,gBAAgB;gBAAE,QAAQ,aAAa,EAAE;YAAC;QACjD;QAEA,yBAAyB;QACzB,IAAI,iBAAiB,OAAO,EAAE;YAC5B,aAAa,iBAAiB,OAAO;QACvC;QAEA,2CAA2C;QAC3C,iBAAiB,OAAO,GAAG,WAAW;YACpC,IAAI,UAAU;gBACZ,YAAY;gBACZ,UAAU,aAAa,EAAE,EAAE;gBAC3B,KAAK,eAAe;oBAAE,QAAQ,aAAa,EAAE;gBAAC;YAChD;QACF,GAAG;QAEH,OAAO;YACL,IAAI,iBAAiB,OAAO,EAAE;gBAC5B,aAAa,iBAAiB,OAAO;YACvC;QACF;IACF,GAAG;QAAC;QAAS;QAAc;QAAU;QAAW;KAAK;IAErD,MAAM,aAAa;QACjB,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,cAAc;QAEtC,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,UAAU,aAAa,EAAE,EAAE;QAC3B,KAAK,eAAe;YAAE,QAAQ,aAAa,EAAE;QAAC;QAE9C,SAAS,OAAO,EAAE;IACpB;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,IAAI,CAAC,cAAc,OAAO;IAE1B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAO,WAAU;oBAAiG,OAAM;8BACvH,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;8BAInB,8OAAC;oBAAO,WAAU;oBAAiG,OAAM;8BACvH,cAAA,8OAAC,yNAAS;wBAAC,WAAU;;;;;;;;;;;8BAIvB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,KAAK;wBACL,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,YAAY;wBACZ,aAAY;wBACZ,WAAU;;;;;;;;;;;gBAKb,QAAQ,IAAI,mBACX,8OAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,8OAAC,0MAAI;wBAAC,WAAU;;;;;;;;;;yCAGlB,8OAAC;oBAAO,WAAU;oBAA+F,OAAM;8BACrH,cAAA,8OAAC,uMAAG;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAM3B"}},
    {"offset": {"line": 5561, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/chat-window.tsx"],"sourcesContent":["\"use client\"\nimport { MessageSquare } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { ChatHeader } from \"./chat-header\"\nimport { MessageList } from \"./message-list\"\nimport { MessageInput } from \"./message-input\"\n\ninterface ChatWindowProps {\n  onBackClick?: () => void\n}\n\nexport function ChatWindow({ onBackClick }: ChatWindowProps) {\n  const { selectedChat } = useChat()\n\n  if (!selectedChat) {\n    return (\n      <div className=\"flex-1 flex flex-col items-center justify-center bg-gradient-to-br from-[var(--color-background)] via-[#f8fafc] to-[var(--color-background)] text-center p-8 relative overflow-hidden\">\n        {/* Animated gradient orbs */}\n        <div className=\"absolute top-10 left-10 w-72 h-72 bg-gradient-to-r from-[#6366f1]/20 to-transparent rounded-full blur-3xl animate-pulse\" />\n        <div className=\"absolute bottom-10 right-10 w-72 h-72 bg-gradient-to-r from-[#ec4899]/20 to-transparent rounded-full blur-3xl animate-pulse\" />\n        \n        {/* Content */}\n        <div className=\"relative z-10\">\n          <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-[#6366f1] to-[#ec4899] flex items-center justify-center mb-8 shadow-2xl transform hover:scale-110 transition-transform duration-300\">\n            <MessageSquare className=\"w-16 h-16 text-white\" />\n          </div>\n          <h2 className=\"text-3xl font-bold bg-gradient-to-r from-[#6366f1] to-[#ec4899] bg-clip-text text-transparent mb-3\">Welcome to Chattie</h2>\n          <p className=\"text-[var(--color-muted-foreground)] max-w-md text-lg leading-relaxed mb-2\">\n            Select a conversation or start a new chat to begin. Fast, simple, and secure messaging at your fingertips.\n          </p>\n          <div className=\"mt-10 grid grid-cols-2 gap-4 text-sm\">\n            <div className=\"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-[#10b981]/10 border border-[#10b981]/30 hover:border-[#10b981]/60 transition-colors duration-200\">\n              <span className=\"w-2.5 h-2.5 rounded-full bg-[#10b981] shadow-lg\" />\n              <span className=\"font-medium text-[#10b981]\">Encrypted</span>\n            </div>\n            <div className=\"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-[#6366f1]/10 border border-[#6366f1]/30 hover:border-[#6366f1]/60 transition-colors duration-200\">\n              <span className=\"w-2.5 h-2.5 rounded-full bg-[#6366f1] shadow-lg\" />\n              <span className=\"font-medium text-[#6366f1]\">Real-time</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex-1 flex flex-col h-full\">\n      <ChatHeader onBackClick={onBackClick} />\n      <MessageList />\n      <MessageInput />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAWO,SAAS,WAAW,EAAE,WAAW,EAAmB;IACzD,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,sIAAO;IAEhC,IAAI,CAAC,cAAc;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;;;;;;8BAGf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,yOAAa;gCAAC,WAAU;;;;;;;;;;;sCAE3B,8OAAC;4BAAG,WAAU;sCAAqG;;;;;;sCACnH,8OAAC;4BAAE,WAAU;sCAA6E;;;;;;sCAG1F,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;;;;;;sDAChB,8OAAC;4CAAK,WAAU;sDAA6B;;;;;;;;;;;;8CAE/C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;;;;;;sDAChB,8OAAC;4CAAK,WAAU;sDAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMzD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,2IAAU;gBAAC,aAAa;;;;;;0BACzB,8OAAC,6IAAW;;;;;0BACZ,8OAAC,+IAAY;;;;;;;;;;;AAGnB"}},
    {"offset": {"line": 5732, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/components/home-page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Home Page Component\n *\n * Main application layout with responsive sidebar and chat window.\n */\n\nimport { useState } from \"react\"\nimport { Sidebar } from \"./sidebar\"\nimport { ChatWindow } from \"./chat-window\"\nimport { useChat } from \"@/context/chat-context\"\n\nexport function HomePage() {\n  const { selectedChat } = useChat()\n  const [showSidebar, setShowSidebar] = useState(true)\n\n  return (\n    <div className=\"h-screen flex overflow-hidden bg-[var(--color-background)]\">\n      {/* Sidebar - hidden on mobile when chat is selected */}\n      <div\n        className={`${\n          selectedChat && !showSidebar ? \"hidden\" : \"flex\"\n        } md:flex w-full md:w-[400px] lg:w-[420px] flex-shrink-0`}\n      >\n        <div className=\"w-full h-full\">\n          <Sidebar onMobileClose={() => setShowSidebar(false)} />\n        </div>\n      </div>\n\n      {/* Chat Window */}\n      <div className={`${!selectedChat || showSidebar ? \"hidden\" : \"flex\"} md:flex flex-1 flex-col`}>\n        <ChatWindow onBackClick={() => setShowSidebar(true)} />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;CAIC,GAED;AACA;AACA;AACA;AAXA;;;;;;AAaO,SAAS;IACd,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,sIAAO;IAChC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAW,GACT,gBAAgB,CAAC,cAAc,WAAW,OAC3C,uDAAuD,CAAC;0BAEzD,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,iIAAO;wBAAC,eAAe,IAAM,eAAe;;;;;;;;;;;;;;;;0BAKjD,8OAAC;gBAAI,WAAW,GAAG,CAAC,gBAAgB,cAAc,WAAW,OAAO,wBAAwB,CAAC;0BAC3F,cAAA,8OAAC,2IAAU;oBAAC,aAAa,IAAM,eAAe;;;;;;;;;;;;;;;;;AAItD"}},
    {"offset": {"line": 5803, "column": 0}, "map": {"version":3,"sources":["file:///D:/SrmAP/Fullstack/Chattie/app/page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Main Application Entry Point\n *\n * This is the root page component that handles:\n * - Authentication state routing\n * - Context providers setup\n * - Page transitions\n */\n\nimport { useState } from \"react\"\nimport { AuthProvider, useAuth } from \"@/context/auth-context\"\nimport { ChatProvider } from \"@/context/chat-context\"\nimport { SocketProvider } from \"@/context/socket-context\"\nimport { FriendProvider } from \"@/context/friend-context\"\nimport { LoginPage } from \"@/components/login-page\"\nimport { RegisterPage } from \"@/components/register-page\"\nimport { HomePage } from \"@/components/home-page\"\n\nfunction AppContent() {\n  const { isAuthenticated, isLoading } = useAuth()\n  const [authMode, setAuthMode] = useState<\"login\" | \"register\">(\"login\")\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-[var(--color-background)]\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 rounded-full border-4 border-[var(--color-primary)] border-t-transparent animate-spin mx-auto mb-4\" />\n          <p className=\"text-[var(--color-muted)]\">Loading QuickChat...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Show auth pages if not authenticated\n  if (!isAuthenticated) {\n    return authMode === \"login\" ? (\n      <LoginPage onSwitchToRegister={() => setAuthMode(\"register\")} />\n    ) : (\n      <RegisterPage onSwitchToLogin={() => setAuthMode(\"login\")} />\n    )\n  }\n\n  return (\n    <SocketProvider>\n      <ChatProvider>\n        <FriendProvider>\n          <HomePage />\n        </FriendProvider>\n      </ChatProvider>\n    </SocketProvider>\n  )\n}\n\nexport default function QuickChatApp() {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;;CAOC,GAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;;;;;;;;;;AAoBA,SAAS;IACP,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,sIAAO;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAuB;IAE/D,qBAAqB;IACrB,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;IAIjD;IAEA,uCAAuC;IACvC,IAAI,CAAC,iBAAiB;QACpB,OAAO,aAAa,wBAClB,8OAAC,yIAAS;YAAC,oBAAoB,IAAM,YAAY;;;;;iCAEjD,8OAAC,+IAAY;YAAC,iBAAiB,IAAM,YAAY;;;;;;IAErD;IAEA,qBACE,8OAAC,+IAAc;kBACb,cAAA,8OAAC,2IAAY;sBACX,cAAA,8OAAC,+IAAc;0BACb,cAAA,8OAAC,uIAAQ;;;;;;;;;;;;;;;;;;;;AAKnB;AAEe,SAAS;IACtB,qBACE,8OAAC,2IAAY;kBACX,cAAA,8OAAC;;;;;;;;;;AAGP"}}]
}